<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Node.js 开发必备基础知识 | Wilson's Blog</title>
<meta name=keywords content="Node.js"><meta name=description content="综述 开门见山，先说结论：
文件读写 网络请求 回调函数 这三点绝对是使用Node.js进行开发的三项核心必备基础知识，接下来我们来逐一介绍这三点为什么是最基础的核心知识。
整体认知 首先要搞清楚Node.js是什么，它为什么叫“运行时”。可以这样理解，JavaScript是一种编程语言，使用JavaScript编写的代码需要某个环境来运行它。
JavaScript最初被创造出来，是为了在浏览器内执行一些简单的逻辑，实现一些网页调整的功能。所以那时候JavaScript是运行在浏览器所提供的执行环境内进行执行的，也就是浏览器这个程序内部拥有可以执行JavaScript的东西，你可以叫它编译器，也可以叫它为解释器，因此浏览器内可以运行由JavaScript编写的代码逻辑。
后来人们发现JavaScript的语法很友好，容易掌握，因此使用它的语法创造了Node.js，这同样是一个可以运行JavaScript代码的环境，并且它还支持你通过使用JavaScript代码访问操作系统的文件和网络资源。
概念详解 文件读写 这个很好理解，Node.js相当于一门功能强大的编程语言，它可以访问和操作计算机内的各种资源，比如计算机内存、进程、文件等。
前提就是在某台计算机安装Node.js，并通过Node.js语法编写代码。下载可以通过这里，编写代码只需要你按照JavaScript的编程习惯进行使用即可。只不过在浏览器内的JavaScript可以访问浏览器所提供的API，比如window.alert()、console.log()等。
Node.js同样有其环境所提供的一系列API。只不过有些API是和浏览器一样存放在全局对象上的，而另外很大一部分则是封装在一个个模块内部的。
就比如关于文件读写的API，你需要在代码内通过引入fs模块来进行使用，fs是“File System，文件系统”的含义。
假如我们有一个readme.md文件，内容如下
# 标题一 我们可以使用如下代码来读取这个文件的内容
const fs = require('fs'); const file = fs.readFileSync('./readme.md'); console.log(file.toString()) 输出
# 标题一 同样，我们可以使用相应的API进行写文件操作，如下
const fs = require('fs'); fs.writeFileSync('./out.md', '# out') 会发现当前目录下多了个out.md文件，内容如下
# out 网络请求 仅仅能够访问本地文件是远远不够的，我们还需要利用网络的能力来访问网络上的内容。对于浏览器来说，由于同源策略的存在，其网络资源访问能力有限，而在Node.js中，我们则可以使用http和https模块进行各种网络资源的获取。
例如我们创建如下这样一个Node.js文件
const https = require('https'); const api = 'https://api.juejin.cn/user_api/v1/author/recommend?limit=5' https.get(api, res => { let content = ''; res.on('data', chunk => { content += chunk; }) res."><meta name=author content><link rel=canonical href=https://barnett617.github.io/wilson-blog/posts/2021-08-25-nodejs-basic/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/wilson-blog/assets/css/stylesheet.12fa5455234223898c7ed6a6a9d432e5a19d6a2254249418807687ee1ef72101.css integrity="sha256-EvpUVSNCI4mMftamqdQy5aGdaiJUJJQYgHaH7h73IQE=" rel="preload stylesheet" as=style><link rel=icon href=https://barnett617.github.io/wilson-blog/favicon_io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://barnett617.github.io/wilson-blog/favicon_io/favicon16x16.png><link rel=icon type=image/png sizes=32x32 href=https://barnett617.github.io/wilson-blog/favicon_io/favicon32x32.png><link rel=apple-touch-icon href=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png><link rel=mask-icon href=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://barnett617.github.io/wilson-blog/posts/2021-08-25-nodejs-basic/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Node.js 开发必备基础知识"><meta property="og:description" content="综述 开门见山，先说结论：
文件读写 网络请求 回调函数 这三点绝对是使用Node.js进行开发的三项核心必备基础知识，接下来我们来逐一介绍这三点为什么是最基础的核心知识。
整体认知 首先要搞清楚Node.js是什么，它为什么叫“运行时”。可以这样理解，JavaScript是一种编程语言，使用JavaScript编写的代码需要某个环境来运行它。
JavaScript最初被创造出来，是为了在浏览器内执行一些简单的逻辑，实现一些网页调整的功能。所以那时候JavaScript是运行在浏览器所提供的执行环境内进行执行的，也就是浏览器这个程序内部拥有可以执行JavaScript的东西，你可以叫它编译器，也可以叫它为解释器，因此浏览器内可以运行由JavaScript编写的代码逻辑。
后来人们发现JavaScript的语法很友好，容易掌握，因此使用它的语法创造了Node.js，这同样是一个可以运行JavaScript代码的环境，并且它还支持你通过使用JavaScript代码访问操作系统的文件和网络资源。
概念详解 文件读写 这个很好理解，Node.js相当于一门功能强大的编程语言，它可以访问和操作计算机内的各种资源，比如计算机内存、进程、文件等。
前提就是在某台计算机安装Node.js，并通过Node.js语法编写代码。下载可以通过这里，编写代码只需要你按照JavaScript的编程习惯进行使用即可。只不过在浏览器内的JavaScript可以访问浏览器所提供的API，比如window.alert()、console.log()等。
Node.js同样有其环境所提供的一系列API。只不过有些API是和浏览器一样存放在全局对象上的，而另外很大一部分则是封装在一个个模块内部的。
就比如关于文件读写的API，你需要在代码内通过引入fs模块来进行使用，fs是“File System，文件系统”的含义。
假如我们有一个readme.md文件，内容如下
# 标题一 我们可以使用如下代码来读取这个文件的内容
const fs = require('fs'); const file = fs.readFileSync('./readme.md'); console.log(file.toString()) 输出
# 标题一 同样，我们可以使用相应的API进行写文件操作，如下
const fs = require('fs'); fs.writeFileSync('./out.md', '# out') 会发现当前目录下多了个out.md文件，内容如下
# out 网络请求 仅仅能够访问本地文件是远远不够的，我们还需要利用网络的能力来访问网络上的内容。对于浏览器来说，由于同源策略的存在，其网络资源访问能力有限，而在Node.js中，我们则可以使用http和https模块进行各种网络资源的获取。
例如我们创建如下这样一个Node.js文件
const https = require('https'); const api = 'https://api.juejin.cn/user_api/v1/author/recommend?limit=5' https.get(api, res => { let content = ''; res.on('data', chunk => { content += chunk; }) res."><meta property="og:type" content="article"><meta property="og:url" content="https://barnett617.github.io/wilson-blog/posts/2021-08-25-nodejs-basic/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-25T14:31:00+00:00"><meta property="article:modified_time" content="2021-08-25T14:31:00+00:00"><meta property="og:site_name" content="Wilson's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Node.js 开发必备基础知识"><meta name=twitter:description content="综述 开门见山，先说结论：
文件读写 网络请求 回调函数 这三点绝对是使用Node.js进行开发的三项核心必备基础知识，接下来我们来逐一介绍这三点为什么是最基础的核心知识。
整体认知 首先要搞清楚Node.js是什么，它为什么叫“运行时”。可以这样理解，JavaScript是一种编程语言，使用JavaScript编写的代码需要某个环境来运行它。
JavaScript最初被创造出来，是为了在浏览器内执行一些简单的逻辑，实现一些网页调整的功能。所以那时候JavaScript是运行在浏览器所提供的执行环境内进行执行的，也就是浏览器这个程序内部拥有可以执行JavaScript的东西，你可以叫它编译器，也可以叫它为解释器，因此浏览器内可以运行由JavaScript编写的代码逻辑。
后来人们发现JavaScript的语法很友好，容易掌握，因此使用它的语法创造了Node.js，这同样是一个可以运行JavaScript代码的环境，并且它还支持你通过使用JavaScript代码访问操作系统的文件和网络资源。
概念详解 文件读写 这个很好理解，Node.js相当于一门功能强大的编程语言，它可以访问和操作计算机内的各种资源，比如计算机内存、进程、文件等。
前提就是在某台计算机安装Node.js，并通过Node.js语法编写代码。下载可以通过这里，编写代码只需要你按照JavaScript的编程习惯进行使用即可。只不过在浏览器内的JavaScript可以访问浏览器所提供的API，比如window.alert()、console.log()等。
Node.js同样有其环境所提供的一系列API。只不过有些API是和浏览器一样存放在全局对象上的，而另外很大一部分则是封装在一个个模块内部的。
就比如关于文件读写的API，你需要在代码内通过引入fs模块来进行使用，fs是“File System，文件系统”的含义。
假如我们有一个readme.md文件，内容如下
# 标题一 我们可以使用如下代码来读取这个文件的内容
const fs = require('fs'); const file = fs.readFileSync('./readme.md'); console.log(file.toString()) 输出
# 标题一 同样，我们可以使用相应的API进行写文件操作，如下
const fs = require('fs'); fs.writeFileSync('./out.md', '# out') 会发现当前目录下多了个out.md文件，内容如下
# out 网络请求 仅仅能够访问本地文件是远远不够的，我们还需要利用网络的能力来访问网络上的内容。对于浏览器来说，由于同源策略的存在，其网络资源访问能力有限，而在Node.js中，我们则可以使用http和https模块进行各种网络资源的获取。
例如我们创建如下这样一个Node.js文件
const https = require('https'); const api = 'https://api.juejin.cn/user_api/v1/author/recommend?limit=5' https.get(api, res => { let content = ''; res.on('data', chunk => { content += chunk; }) res."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://barnett617.github.io/wilson-blog/posts/"},{"@type":"ListItem","position":2,"name":"Node.js 开发必备基础知识","item":"https://barnett617.github.io/wilson-blog/posts/2021-08-25-nodejs-basic/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Node.js 开发必备基础知识","name":"Node.js 开发必备基础知识","description":"综述 开门见山，先说结论：\n文件读写 网络请求 回调函数 这三点绝对是使用Node.js进行开发的三项核心必备基础知识，接下来我们来逐一介绍这三点为什么是最基础的核心知识。\n整体认知 首先要搞清楚Node.js是什么，它为什么叫“运行时”。可以这样理解，JavaScript是一种编程语言，使用JavaScript编写的代码需要某个环境来运行它。\nJavaScript最初被创造出来，是为了在浏览器内执行一些简单的逻辑，实现一些网页调整的功能。所以那时候JavaScript是运行在浏览器所提供的执行环境内进行执行的，也就是浏览器这个程序内部拥有可以执行JavaScript的东西，你可以叫它编译器，也可以叫它为解释器，因此浏览器内可以运行由JavaScript编写的代码逻辑。\n后来人们发现JavaScript的语法很友好，容易掌握，因此使用它的语法创造了Node.js，这同样是一个可以运行JavaScript代码的环境，并且它还支持你通过使用JavaScript代码访问操作系统的文件和网络资源。\n概念详解 文件读写 这个很好理解，Node.js相当于一门功能强大的编程语言，它可以访问和操作计算机内的各种资源，比如计算机内存、进程、文件等。\n前提就是在某台计算机安装Node.js，并通过Node.js语法编写代码。下载可以通过这里，编写代码只需要你按照JavaScript的编程习惯进行使用即可。只不过在浏览器内的JavaScript可以访问浏览器所提供的API，比如window.alert()、console.log()等。\nNode.js同样有其环境所提供的一系列API。只不过有些API是和浏览器一样存放在全局对象上的，而另外很大一部分则是封装在一个个模块内部的。\n就比如关于文件读写的API，你需要在代码内通过引入fs模块来进行使用，fs是“File System，文件系统”的含义。\n假如我们有一个readme.md文件，内容如下\n# 标题一 我们可以使用如下代码来读取这个文件的内容\nconst fs = require(\u0026#39;fs\u0026#39;); const file = fs.readFileSync(\u0026#39;./readme.md\u0026#39;); console.log(file.toString()) 输出\n# 标题一 同样，我们可以使用相应的API进行写文件操作，如下\nconst fs = require(\u0026#39;fs\u0026#39;); fs.writeFileSync(\u0026#39;./out.md\u0026#39;, \u0026#39;# out\u0026#39;) 会发现当前目录下多了个out.md文件，内容如下\n# out 网络请求 仅仅能够访问本地文件是远远不够的，我们还需要利用网络的能力来访问网络上的内容。对于浏览器来说，由于同源策略的存在，其网络资源访问能力有限，而在Node.js中，我们则可以使用http和https模块进行各种网络资源的获取。\n例如我们创建如下这样一个Node.js文件\nconst https = require(\u0026#39;https\u0026#39;); const api = \u0026#39;https://api.juejin.cn/user_api/v1/author/recommend?limit=5\u0026#39; https.get(api, res =\u0026gt; { let content = \u0026#39;\u0026#39;; res.on(\u0026#39;data\u0026#39;, chunk =\u0026gt; { content += chunk; }) res.","keywords":["Node.js"],"articleBody":"综述 开门见山，先说结论：\n文件读写 网络请求 回调函数 这三点绝对是使用Node.js进行开发的三项核心必备基础知识，接下来我们来逐一介绍这三点为什么是最基础的核心知识。\n整体认知 首先要搞清楚Node.js是什么，它为什么叫“运行时”。可以这样理解，JavaScript是一种编程语言，使用JavaScript编写的代码需要某个环境来运行它。\nJavaScript最初被创造出来，是为了在浏览器内执行一些简单的逻辑，实现一些网页调整的功能。所以那时候JavaScript是运行在浏览器所提供的执行环境内进行执行的，也就是浏览器这个程序内部拥有可以执行JavaScript的东西，你可以叫它编译器，也可以叫它为解释器，因此浏览器内可以运行由JavaScript编写的代码逻辑。\n后来人们发现JavaScript的语法很友好，容易掌握，因此使用它的语法创造了Node.js，这同样是一个可以运行JavaScript代码的环境，并且它还支持你通过使用JavaScript代码访问操作系统的文件和网络资源。\n概念详解 文件读写 这个很好理解，Node.js相当于一门功能强大的编程语言，它可以访问和操作计算机内的各种资源，比如计算机内存、进程、文件等。\n前提就是在某台计算机安装Node.js，并通过Node.js语法编写代码。下载可以通过这里，编写代码只需要你按照JavaScript的编程习惯进行使用即可。只不过在浏览器内的JavaScript可以访问浏览器所提供的API，比如window.alert()、console.log()等。\nNode.js同样有其环境所提供的一系列API。只不过有些API是和浏览器一样存放在全局对象上的，而另外很大一部分则是封装在一个个模块内部的。\n就比如关于文件读写的API，你需要在代码内通过引入fs模块来进行使用，fs是“File System，文件系统”的含义。\n假如我们有一个readme.md文件，内容如下\n# 标题一 我们可以使用如下代码来读取这个文件的内容\nconst fs = require('fs'); const file = fs.readFileSync('./readme.md'); console.log(file.toString()) 输出\n# 标题一 同样，我们可以使用相应的API进行写文件操作，如下\nconst fs = require('fs'); fs.writeFileSync('./out.md', '# out') 会发现当前目录下多了个out.md文件，内容如下\n# out 网络请求 仅仅能够访问本地文件是远远不够的，我们还需要利用网络的能力来访问网络上的内容。对于浏览器来说，由于同源策略的存在，其网络资源访问能力有限，而在Node.js中，我们则可以使用http和https模块进行各种网络资源的获取。\n例如我们创建如下这样一个Node.js文件\nconst https = require('https'); const api = 'https://api.juejin.cn/user_api/v1/author/recommend?limit=5' https.get(api, res =\u003e { let content = ''; res.on('data', chunk =\u003e { content += chunk; }) res.on('end', () =\u003e { console.log(JSON.parse(content)); }) }) 会输出掘金首页的五个推荐用户，如下\n{ err_no: 0, err_msg: 'success', data: [ { user_id: '4388906148312295', user_name: '_红领巾', got_digg_count: 466, got_view_count: 113613, avatar_large: 'https://sf6-ttcdn-tos.pstatp.com/img/user-avatar/20d58b6931ec0610487b6be50ff91aaa~300x300.image', company: '', job_title: '前端', level: 3, description: '', author_desc: '', isfollowed: false }, { user_id: '131597122679661', user_name: '云的世界', got_digg_count: 7535, got_view_count: 232528, avatar_large: 'https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/f1a9f122e925aeef5e4534ff7f706729~300x300.image', company: '微信：dirge-cloud', job_title: '前端工程师', level: 4, description: '看世界，听世界，问世界。', author_desc: '', isfollowed: false }, { user_id: '3298190614865997', user_name: 'artist', got_digg_count: 774, got_view_count: 66671, avatar_large: 'https://sf6-ttcdn-tos.pstatp.com/img/user-avatar/84361adb9ca86b8f149ba57b16bbe56c~300x300.image', company: 'artist工作室', job_title: '前端开发', level: 3, description: '', author_desc: '', isfollowed: false }, { user_id: '1415826704971918', user_name: '若川', got_digg_count: 4124, got_view_count: 224713, avatar_large: 'https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/2/16b17bc6f37d2e4e~tplv-t2oaga2asx-image.image', company: '', job_title: '「若川视野」公众号 源码系列作者', level: 4, description: '', author_desc: '', isfollowed: false }, { user_id: '2365804752407480', user_name: '羽飞', got_digg_count: 2379, got_view_count: 60277, avatar_large: 'https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/54a24fe455719e158f4ab41863399272~300x300.image', company: '', job_title: '前端｜iGuangY', level: 3, description: '跟问题处得久一点', author_desc: '', isfollowed: false } ], cursor: '5', count: 99, has_more: true } 这其实就是掘金首页右侧显示的“作者榜”的数据来源，可以点击“完整榜单”进行查看\n是不是很神奇呢，不过也不是所有的接口数据我们都能拿到，一般重要的数据接口会采取一些措施，使我们不会这样轻易就访问到结果，但这已经展示了Node.js通过网络模块进行网络资源获取的强大之处。\n回调函数 接下来，需要解释一下“回调函数”这个东西，因为在Node.js的设计中，充满了回调函数的使用。其官方文档中的介绍就提到了Node.js是一个“异步事件驱动”的JavaScript运行时，而回调函数则是JavaScript实现“异步”最基础的方法。\n首先我们需要知道，回调函数也是函数，只不过它用于“回调执行”。我们拆开来理解，函数就是使用JavaScript声明的代码块，用于执行某些特定的逻辑，声明方式有以下两种\nfunction a (msg) { console.log(msg); } a('hello'); var b = function (msg) { console.log(msg); } b('world'); 其中第一种叫做函数声明，后者叫做函数表达式。\n声明就是使用function关键字声明变量a为某个函数，后续使用这个变量a进行函数的调用。表达式则是编程语言中的一种基本运算操作，就像声明一个普通变量一样，函数表达式将一个函数赋值给一个变量，这个变量的内容就是函数，所以调用这个函数也就是使用该变量再加上括号来执行。\n而“回调”这个概念是因为JavaScript可以将一个函数作为另一个函数的参数，就像下面代码所示\nfunction a (callback) { const msg = 'hello'; callback(msg); } function b (msg) { console.log(msg); } a(b); 这里声明了两个函数，函数a的参数在接收另一个函数，其内部执行逻辑为“先赋值一个值为hello的变量msg，然后将msg作为参数，执行参数传入的函数”。而函数b的逻辑则为单纯地输出传入的变量值。\n当执行函数a时，我们把函数b作为参数传入函数a，这样在函数a内部执行到callback(msg)的逻辑时即可以称作“回调函数执行”，而这里的callback则被称为“回调函数”。\n理解了回调函数的概念，我们再来看网络请求中的示例\nconst https = require('https'); const api = 'https://api.juejin.cn/user_api/v1/author/recommend?limit=5' https.get(api, res =\u003e { let content = ''; res.on('data', chunk =\u003e { content += chunk; }) res.on('end', () =\u003e { console.log(JSON.parse(content)); }) }) 其中的https.get就是在调用https模块中的get方法（方法是在某种意义上函数的别称），我们传给get函数的参数分别是api和另一个函数，其中api是一个普通变量，其内容为某个网络资源地址，而另一个函数我们则是我们的回调函数。\n我们可以将其单独写出来\nconst https = require('https'); const api = 'https://api.juejin.cn/user_api/v1/author/recommend?limit=5' function callback (res) { let content = ''; res.on('data', chunk =\u003e { content += chunk; }) res.on('end', () =\u003e { console.log(JSON.parse(content)); }) } https.get(api, callback); 这样看会更像我们上面举的例子，这里的https.get则是我们上面的a函数，而callback则是我们的b函数。这是这里使用回调函数的第一处，同样，在res.on(‘data’)中的第二个参数是第二处使用回调函数，在res.on(’end’)的第二个参数是第三处使用回调函数。\nNode.js中大多数API都是类似上面这样进行使用，因此可见，掌握回调函数是Node.js的核心基础之一。当然，如今Node.js经过不断发展，也产生了其他方式处理异步操作，不过回调函数仍是其最基础的实现方式。\n总结 总结一下，本文我们学习了文件读写、网络请求和回调函数三个基础的核心概念，这既是进行Node.js开发的必备基础知识，同样也是很多其他编程语言的核心知识。所以掌握好这些概念的理解对于学习软件开发来说至关重要。\n而且，在掌握了这三点以后，你基本已经可以使用Node.js的大部分功能了，更多的功能可能是在这三者的各种组合之上，并配合其他基本能力进行完成。如果你对Node.js开发感兴趣，那么就赶紧安装一个Node.js，并开始你的编程之旅吧。\n本文原发布于 掘金\n","wordCount":"332","inLanguage":"zh","datePublished":"2021-08-25T14:31:00Z","dateModified":"2021-08-25T14:31:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://barnett617.github.io/wilson-blog/posts/2021-08-25-nodejs-basic/"},"publisher":{"@type":"Organization","name":"Wilson's Blog","logo":{"@type":"ImageObject","url":"https://barnett617.github.io/wilson-blog/favicon_io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://barnett617.github.io/wilson-blog/ accesskey=h title="Wilson's Blog (Alt + H)"><img src=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png alt aria-label=logo height=35>Wilson's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://barnett617.github.io/wilson-blog/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://barnett617.github.io/wilson-blog/archives title=时间线><span>时间线</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/search/ title=搜索><span>搜索</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/tags/ title=标签分类><span>标签分类</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/about/ title=关于我><span>关于我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Node.js 开发必备基础知识</h1><div class=post-meta><span title='2021-08-25 14:31:00 +0000 UTC'>2021-08-25 14:31:00</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;332 字&nbsp;|&nbsp;<a href=https://github.com/barnett617/wilson-blog/tree/main/content//posts/2021-08-25-nodejs-basic/index.md rel="noopener noreferrer" target=_blank>修改建议</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#综述>综述</a></li><li><a href=#整体认知>整体认知</a></li><li><a href=#概念详解>概念详解</a><ul><li><a href=#文件读写>文件读写</a></li><li><a href=#网络请求>网络请求</a></li><li><a href=#回调函数>回调函数</a></li></ul></li><li><a href=#总结>总结</a></li></ul></nav></div></details></div><div class=post-content><h2 id=综述>综述<a hidden class=anchor aria-hidden=true href=#综述>#</a></h2><p>开门见山，先说结论：</p><ul><li>文件读写</li><li>网络请求</li><li>回调函数</li></ul><p>这三点绝对是使用Node.js进行开发的三项核心必备基础知识，接下来我们来逐一介绍这三点为什么是最基础的核心知识。</p><h2 id=整体认知>整体认知<a hidden class=anchor aria-hidden=true href=#整体认知>#</a></h2><p>首先要搞清楚<code>Node.js</code>是什么，它为什么叫“运行时”。可以这样理解，<code>JavaScript</code>是一种编程语言，使用JavaScript编写的代码需要某个环境来运行它。</p><p>JavaScript最初被创造出来，是为了在浏览器内执行一些简单的逻辑，实现一些网页调整的功能。所以那时候JavaScript是运行在<code>浏览器</code>所提供的执行环境内进行执行的，也就是浏览器这个程序内部拥有可以执行JavaScript的东西，你可以叫它<code>编译器</code>，也可以叫它为<code>解释器</code>，因此浏览器内可以运行由JavaScript编写的代码逻辑。</p><p>后来人们发现JavaScript的语法很友好，容易掌握，因此使用它的语法创造了<code>Node.js</code>，这同样是一个可以运行<code>JavaScript</code>代码的<code>环境</code>，并且它还支持你通过使用JavaScript代码访问<code>操作系统</code>的<code>文件</code>和<code>网络资源</code>。</p><h2 id=概念详解>概念详解<a hidden class=anchor aria-hidden=true href=#概念详解>#</a></h2><h3 id=文件读写>文件读写<a hidden class=anchor aria-hidden=true href=#文件读写>#</a></h3><p>这个很好理解，Node.js相当于一门功能强大的编程语言，它可以访问和操作计算机内的各种资源，比如计算机内存、进程、文件等。</p><p>前提就是在某台计算机安装Node.js，并通过Node.js语法编写代码。下载可以通过<a href=https://nodejs.org/zh-cn/download/>这里</a>，编写代码只需要你按照JavaScript的编程习惯进行使用即可。只不过在浏览器内的JavaScript可以访问浏览器所提供的<code>API</code>，比如window.alert()、console.log()等。</p><p>Node.js同样有其环境所提供的一系列API。只不过有些API是和浏览器一样存放在<code>全局对象</code>上的，而另外很大一部分则是封装在一个个<code>模块</code>内部的。</p><p>就比如关于<code>文件读写</code>的API，你需要在代码内通过引入<code>fs</code>模块来进行使用，fs是“File System，文件系统”的含义。</p><p>假如我们有一个readme.md文件，内容如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=gh># 标题一
</span></span></span></code></pre></div><p>我们可以使用如下代码来读取这个文件的内容</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>file</span> <span class=o>=</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>readFileSync</span><span class=p>(</span><span class=s1>&#39;./readme.md&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>file</span><span class=p>.</span><span class=nx>toString</span><span class=p>())</span>
</span></span></code></pre></div><p>输出</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 标题一
</span></span></code></pre></div><p>同样，我们可以使用相应的API进行写文件操作，如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>fs</span><span class=p>.</span><span class=nx>writeFileSync</span><span class=p>(</span><span class=s1>&#39;./out.md&#39;</span><span class=p>,</span> <span class=s1>&#39;# out&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>会发现当前目录下多了个out.md文件，内容如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=gh># out
</span></span></span></code></pre></div><h3 id=网络请求>网络请求<a hidden class=anchor aria-hidden=true href=#网络请求>#</a></h3><p>仅仅能够访问<code>本地文件</code>是远远不够的，我们还需要利用网络的能力来访问网络上的内容。对于浏览器来说，由于<a href=https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy>同源策略</a>的存在，其网络资源访问能力有限，而在Node.js中，我们则可以使用<code>http</code>和<code>https</code>模块进行各种网络资源的获取。</p><p>例如我们创建如下这样一个Node.js文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>https</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;https&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>api</span> <span class=o>=</span> <span class=s1>&#39;https://api.juejin.cn/user_api/v1/author/recommend?limit=5&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>api</span><span class=p>,</span> <span class=nx>res</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>content</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=nx>chunk</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>content</span> <span class=o>+=</span> <span class=nx>chunk</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;end&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>content</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>会输出掘金首页的五个推荐用户，如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>err_no</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>err_msg</span><span class=o>:</span> <span class=s1>&#39;success&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>data</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_id</span><span class=o>:</span> <span class=s1>&#39;4388906148312295&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_name</span><span class=o>:</span> <span class=s1>&#39;_红领巾&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_digg_count</span><span class=o>:</span> <span class=mi>466</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_view_count</span><span class=o>:</span> <span class=mi>113613</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>avatar_large</span><span class=o>:</span> <span class=s1>&#39;https://sf6-ttcdn-tos.pstatp.com/img/user-avatar/20d58b6931ec0610487b6be50ff91aaa~300x300.image&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>company</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>job_title</span><span class=o>:</span> <span class=s1>&#39;前端&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>level</span><span class=o>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>author_desc</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>isfollowed</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_id</span><span class=o>:</span> <span class=s1>&#39;131597122679661&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_name</span><span class=o>:</span> <span class=s1>&#39;云的世界&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_digg_count</span><span class=o>:</span> <span class=mi>7535</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_view_count</span><span class=o>:</span> <span class=mi>232528</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>avatar_large</span><span class=o>:</span> <span class=s1>&#39;https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/f1a9f122e925aeef5e4534ff7f706729~300x300.image&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>company</span><span class=o>:</span> <span class=s1>&#39;微信：dirge-cloud&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>job_title</span><span class=o>:</span> <span class=s1>&#39;前端工程师&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>level</span><span class=o>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;看世界，听世界，问世界。&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>author_desc</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>isfollowed</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_id</span><span class=o>:</span> <span class=s1>&#39;3298190614865997&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_name</span><span class=o>:</span> <span class=s1>&#39;artist&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_digg_count</span><span class=o>:</span> <span class=mi>774</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_view_count</span><span class=o>:</span> <span class=mi>66671</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>avatar_large</span><span class=o>:</span> <span class=s1>&#39;https://sf6-ttcdn-tos.pstatp.com/img/user-avatar/84361adb9ca86b8f149ba57b16bbe56c~300x300.image&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>company</span><span class=o>:</span> <span class=s1>&#39;artist工作室&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>job_title</span><span class=o>:</span> <span class=s1>&#39;前端开发&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>level</span><span class=o>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>author_desc</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>isfollowed</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_id</span><span class=o>:</span> <span class=s1>&#39;1415826704971918&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_name</span><span class=o>:</span> <span class=s1>&#39;若川&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_digg_count</span><span class=o>:</span> <span class=mi>4124</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_view_count</span><span class=o>:</span> <span class=mi>224713</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>avatar_large</span><span class=o>:</span> <span class=s1>&#39;https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/2/16b17bc6f37d2e4e~tplv-t2oaga2asx-image.image&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>company</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>job_title</span><span class=o>:</span> <span class=s1>&#39;「若川视野」公众号 源码系列作者&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>level</span><span class=o>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>author_desc</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>isfollowed</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_id</span><span class=o>:</span> <span class=s1>&#39;2365804752407480&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>user_name</span><span class=o>:</span> <span class=s1>&#39;羽飞&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_digg_count</span><span class=o>:</span> <span class=mi>2379</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>got_view_count</span><span class=o>:</span> <span class=mi>60277</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>avatar_large</span><span class=o>:</span> <span class=s1>&#39;https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/54a24fe455719e158f4ab41863399272~300x300.image&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>company</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>job_title</span><span class=o>:</span> <span class=s1>&#39;前端｜iGuangY&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>level</span><span class=o>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;跟问题处得久一点&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>author_desc</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>isfollowed</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>cursor</span><span class=o>:</span> <span class=s1>&#39;5&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>count</span><span class=o>:</span> <span class=mi>99</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>has_more</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>这其实就是<a href=https://juejin.cn/>掘金首页</a>右侧显示的“作者榜”的数据来源，可以点击“完整榜单”进行查看</p><p><img loading=lazy src=b3ef086a6bd844a69a5a9ca5c6d414a2~tplv-k3u1fbpfcp-watermark.png alt=image.png></p><p><img loading=lazy src=7e75535f4b2846d992b7a085c1b4c66e~tplv-k3u1fbpfcp-watermark.png alt=image.png></p><p>是不是很神奇呢，不过也不是所有的接口数据我们都能拿到，一般重要的数据接口会采取一些措施，使我们不会这样轻易就访问到结果，但这已经展示了Node.js通过网络模块进行网络资源获取的强大之处。</p><h3 id=回调函数>回调函数<a hidden class=anchor aria-hidden=true href=#回调函数>#</a></h3><p>接下来，需要解释一下“回调函数”这个东西，因为在Node.js的设计中，充满了回调函数的使用。其<a href=https://nodejs.org/zh-cn/about/>官方文档</a>中的介绍就提到了Node.js是一个“异步事件驱动”的JavaScript运行时，而回调函数则是JavaScript实现“异步”最基础的方法。</p><p><img loading=lazy src=7d93532f6d994ce38a44dea7af95fa39~tplv-k3u1fbpfcp-watermark.png alt=image.png></p><p>首先我们需要知道，回调函数也是<code>函数</code>，只不过它用于“回调执行”。我们拆开来理解，函数就是使用JavaScript声明的代码块，用于执行某些特定的逻辑，声明方式有以下两种</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>a</span> <span class=p>(</span><span class=nx>msg</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>b</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>msg</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>(</span><span class=s1>&#39;world&#39;</span><span class=p>);</span>
</span></span></code></pre></div><p>其中第一种叫做<code>函数声明</code>，后者叫做<code>函数表达式</code>。</p><p>声明就是使用<code>function</code>关键字声明变量a为某个函数，后续使用这个变量a进行函数的调用。表达式则是编程语言中的一种基本运算操作，就像声明一个普通变量一样，函数表达式将一个函数赋值给一个变量，这个变量的内容就是函数，所以调用这个函数也就是使用该变量再加上括号来执行。</p><p>而“回调”这个概念是因为JavaScript可以将一个函数作为另一个函数的<code>参数</code>，就像下面代码所示</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>a</span> <span class=p>(</span><span class=nx>callback</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>msg</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>callback</span><span class=p>(</span><span class=nx>msg</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>b</span> <span class=p>(</span><span class=nx>msg</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>(</span><span class=nx>b</span><span class=p>);</span>
</span></span></code></pre></div><p>这里声明了两个函数，函数a的参数在接收另一个函数，其内部执行逻辑为“先赋值一个值为hello的变量msg，然后将msg作为参数，执行参数传入的函数”。而函数b的逻辑则为单纯地输出传入的变量值。</p><p>当执行函数a时，我们把函数b作为参数传入函数a，这样在函数a内部执行到callback(msg)的逻辑时即可以称作“回调函数执行”，而这里的callback则被称为“回调函数”。</p><p>理解了回调函数的概念，我们再来看网络请求中的示例</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>https</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;https&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>api</span> <span class=o>=</span> <span class=s1>&#39;https://api.juejin.cn/user_api/v1/author/recommend?limit=5&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>api</span><span class=p>,</span> <span class=nx>res</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>content</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=nx>chunk</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>content</span> <span class=o>+=</span> <span class=nx>chunk</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;end&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>content</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>其中的<code>https.get</code>就是在调用https模块中的get方法（方法是在某种意义上函数的别称），我们传给get函数的参数分别是api和另一个函数，其中api是一个普通变量，其内容为某个网络资源地址，而另一个函数我们则是我们的<code>回调函数</code>。</p><p>我们可以将其单独写出来</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>https</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;https&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>api</span> <span class=o>=</span> <span class=s1>&#39;https://api.juejin.cn/user_api/v1/author/recommend?limit=5&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>callback</span> <span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>content</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=nx>chunk</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>content</span> <span class=o>+=</span> <span class=nx>chunk</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;end&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>content</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>api</span><span class=p>,</span> <span class=nx>callback</span><span class=p>);</span>
</span></span></code></pre></div><p>这样看会更像我们上面举的例子，这里的https.get则是我们上面的a函数，而callback则是我们的b函数。这是这里使用回调函数的第一处，同样，在res.on(&lsquo;data&rsquo;)中的第二个参数是第二处使用回调函数，在res.on(&rsquo;end&rsquo;)的第二个参数是第三处使用回调函数。</p><p>Node.js中大多数API都是类似上面这样进行使用，因此可见，掌握回调函数是Node.js的核心基础之一。当然，如今Node.js经过不断发展，也产生了其他方式处理异步操作，不过回调函数仍是其最基础的实现方式。</p><h2 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p>总结一下，本文我们学习了<code>文件读写</code>、<code>网络请求</code>和<code>回调函数</code>三个基础的核心概念，这既是进行Node.js开发的必备基础知识，同样也是很多其他编程语言的核心知识。所以掌握好这些概念的理解对于学习软件开发来说至关重要。</p><p>而且，在掌握了这三点以后，你基本已经可以使用Node.js的大部分功能了，更多的功能可能是在这三者的各种组合之上，并配合其他基本能力进行完成。如果你对Node.js开发感兴趣，那么就赶紧安装一个Node.js，并开始你的编程之旅吧。</p><blockquote><p>本文原发布于 <a href=https://juejin.cn/post/7000032048337387527>掘金</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://barnett617.github.io/wilson-blog/tags/node.js/>Node.js</a></li></ul><nav class=paginav><a class=prev href=https://barnett617.github.io/wilson-blog/posts/2021-08-25-nodejs-app/><span class=title>« 上一页</span><br><span>如何基于 Node.js 开发一个完整的项目</span>
</a><a class=next href=https://barnett617.github.io/wilson-blog/posts/2021-07-24-webapp-based-on-bs-arch/><span class=title>下一页 »</span><br><span>基于B/S架构的webapp开发</span></a></nav><script defer crossorigin=anonymous src=/wilson-blog/assets/js/qrcode.a817fc490b9066afefa35cf981f6f003a76441b45cc519492334607a8cbcb264.js integrity="sha256-qBf8SQuQZq/vo1z5gfbwA6dkQbRcxRlJIzRgeoy8smQ=" onload='const wechatShareBtnFingerprint=document.getElementById("wechat-share-btn");if(wechatShareBtnFingerprint){wechatShareBtnFingerprint.style.position="relative";const e=document.createElement("div");e.id="qrcode",Object.assign(e.style,{position:"absolute",background:"#fff",padding:"8px",bottom:0,"box-sizing":"content-box","box-shadow":"rgba(0, 0, 0, 0.2) 0px 0px 10px 4px",width:"96px",height:"96px",left:"50%",transform:"translate(-50%, -43%)",visibility:"hidden"}),window.wechatShareQrCode=e,wechatShareBtnFingerprint.appendChild(e),new QRCode(document.getElementById("qrcode"),{text:window.location.href,width:128,height:128,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})}'></script><div class=share-buttons><a id=wechat-share-btn target=_blank rel="noopener noreferrer" aria-label="share Node.js 开发必备基础知识 on wechat" href=javascript:void(0) onclick=return!1 onfocus='const shareBtnsPointer=document.getElementsByClassName("share-buttons")[0];shareBtnsPointer&&(shareBtnsPointer.style.overflowX="initial"),wechatShareQrCode.style.visibility="visible"' onblur='wechatShareQrCode.style.visibility="hidden"'><svg role="img" viewBox="0 0 24 24" height="30" width="30" fill="currentcolor"><path d="M8.691 2.188C3.891 2.188.0 5.476.0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59.0 01.213.665l-.39 1.48c-.019.07-.048.141-.048.213.0.163.13.295.29.295a.326.326.0 00.167-.054l1.903-1.114a.864.864.0 01.717-.098 10.16 10.16.0 002.837.403c.276.0.543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642.0 1.162.529 1.162 1.18A1.17 1.17.0 015.785 8.349 1.17 1.17.0 014.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813.0c.642.0 1.162.529 1.162 1.18a1.17 1.17.0 01-1.162 1.178 1.17 1.17.0 01-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826.0 1.622-.12 2.361-.336a.722.722.0 01.598.082l1.584.926a.272.272.0 00.14.047c.134.0.24-.111.24-.247.0-.06-.023-.12-.038-.177l-.327-1.233a.582.582.0 01-.023-.156.49.49.0 01.201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.03zm-2.53 3.274c.535.0.969.44.969.982a.976.976.0 01-.969.983.976.976.0 01-.969-.983c0-.542.434-.982.97-.982zm4.844.0c.535.0.969.44.969.982a.976.976.0 01-.969.983.976.976.0 01-.969-.983c0-.542.434-.982.969-.982z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 开发必备基础知识 on x" href="https://x.com/intent/tweet/?text=Node.js%20%e5%bc%80%e5%8f%91%e5%bf%85%e5%a4%87%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86&amp;url=https%3a%2f%2fbarnett617.github.io%2fwilson-blog%2fposts%2f2021-08-25-nodejs-basic%2f&amp;hashtags=Node.js"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://barnett617.github.io/wilson-blog/>Wilson's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>