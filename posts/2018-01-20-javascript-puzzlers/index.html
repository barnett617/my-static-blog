<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>javascript-puzzlers | Wilson's Blog</title>
<meta name=keywords content="javascript"><meta name=description content="关于深入理解 js 的 44 道 wired 题目，经实际验证及分析的学习笔记。"><meta name=author content><link rel=canonical href=https://barnett617.github.io/wilson-blog/posts/2018-01-20-javascript-puzzlers/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/wilson-blog/assets/css/stylesheet.659e049f7d2efb8a004f34ec6fb29b526477a978c7fb695f4c301f8864c325c5.css integrity="sha256-ZZ4En30u+4oATzTsb7KbUmR3qXjH+2lfTDAfiGTDJcU=" rel="preload stylesheet" as=style><link rel=icon href=https://barnett617.github.io/wilson-blog/favicon_io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://barnett617.github.io/wilson-blog/favicon_io/favicon16x16.png><link rel=icon type=image/png sizes=32x32 href=https://barnett617.github.io/wilson-blog/favicon_io/favicon32x32.png><link rel=apple-touch-icon href=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png><link rel=mask-icon href=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://barnett617.github.io/wilson-blog/posts/2018-01-20-javascript-puzzlers/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="javascript-puzzlers"><meta property="og:description" content="关于深入理解 js 的 44 道 wired 题目，经实际验证及分析的学习笔记。"><meta property="og:type" content="article"><meta property="og:url" content="https://barnett617.github.io/wilson-blog/posts/2018-01-20-javascript-puzzlers/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-01-20T09:22:05+00:00"><meta property="article:modified_time" content="2018-01-20T09:22:05+00:00"><meta property="og:site_name" content="Wilson's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="javascript-puzzlers"><meta name=twitter:description content="关于深入理解 js 的 44 道 wired 题目，经实际验证及分析的学习笔记。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://barnett617.github.io/wilson-blog/posts/"},{"@type":"ListItem","position":2,"name":"javascript-puzzlers","item":"https://barnett617.github.io/wilson-blog/posts/2018-01-20-javascript-puzzlers/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"javascript-puzzlers","name":"javascript-puzzlers","description":"关于深入理解 js 的 44 道 wired 题目，经实际验证及分析的学习笔记。\n","keywords":["javascript"],"articleBody":"关于深入理解 js 的 44 道 wired 题目，经实际验证及分析的学习笔记。\n[\"1\", \"2\", \"3\"].map(parseInt) [1, NaN, NaN] map() map passes 3 params (element, index, array) parseInt take two parameters (val, radix)\ntypeof null \"object\" null instanceof object false typeof always return “object” for native non callable objects\n[ [3, 2, 1].reduce(Math.pow), [].reduce(Math.pow) ] reduce on an empty array without an initial value throws TypeError array.reduce() Math.pow\nvar val = \"smtg\"; console.log(\"Value is \" + (val === \"smtg\") ? \"Something\" : \"Nothing\"); Something the + operator has higher precedence than the ternary(三元) one\nvar name = \"World!\"; (function () { if (typeof name === \"undefined\") { var name = \"Jack\"; console.log(\"Goodbye \" + name); } else { console.log(\"Hello \" + name); } })(); Goodbye Jack The var declaration is hoisted to the function scope, but the initialization is not. 声明被隔离，初始化没有 declaration initialization 闭包\nvar END = Math.pow(2, 53); var START = END - 100; var count = 0; for (var i = START; i \u003c= END; i++) { count++; } console.log(count); boom it goes into a infinite loop 2^53 is the highest possible number in JS 2^53+1 gives 2^53(never become larger than it)\nvar ary = [0, 1, 2]; ary[10] = 10; ary.filter(function (x) { return x === undefined; }); [] Array.prototype.filter is not invoked for the missing elements filter()\nvar two = 0.2; var one = 0.1; var eight = 0.8; var six = 0.6; [two - one == one, eight - six == two]; [true, false] eight - six 0.20000000000000007 two - one 0.1 JS does not have precision(精确的) math, even though sometimes it work correctly\nfunction showCase(value) { switch (value) { case \"A\": console.log(\"Case A\"); break; case \"B\": console.log(\"Case B\"); break; case undefined: console.log(\"undefined\"); default: console.log(\"Do not know!\"); } } showCase(new String(\"A\")); Do not know! switch uses === internally new String(x) !== x\nfunction showCase2(value) { switch (value) { case \"A\": console.log(\"Case A\"); break; case \"B\": console.log(\"Case B\"); case undefined: console.log(\"undefined\"); break; default: console.log(\"Do not know!\"); } } showCase2(String(\"A\")); Case A String(\"B\") \"B\" String(1) \"1\" String does not create an object but does return a string typeof String(1) === “string”\nfunction isOdd(num) { return num % 2 == 1; } function isEven(num) { return num % 2 == 0; } function isSane(num) { return isEven(num) || isOdd(num); } var values = [7, 4, \"13\", -9, Infinity]; values.map(isSane); [true, true, true, false, false] Infinity % 2 gives NaN -9 % 2 gives -1 modulo operator(模运算符) keeps sign so it’s result is only reliable compared to 0\nparseInt(3, 8) parseInt(3, 2) parseInt(3, 0) 3 parseInt(3, 8) 3 parseInt(3, 2) NaN parseInt(3, 0) 3 3 does not exist in base 2, so NaN parseInt(3, 0) parseInt will consider a bogus radix(考虑伪造一个基数) and assume you meant 10\nArray.isArray( Array.prototype ) true Array.prototype is an Array\nvar a = [0]; if ([0]) { console.log(a == true); } else { console.log(\"wut\"); } false [0] as a boolean is considered true Alas using it in the comparisions it gets converted in a different way and all goes to hell\n[] == [] false == is the spawn of satan(==是恶魔之卵？？？)\n'5' + 3 '5' - 3 \"53\", 2 Strings know about + and will use it but they are ignoreant of - int that case the strings get converted to numbers\n1 + - + + + - + 1 2 1 + - 1 0 1 + - + 1 0 1 + - + + 1 0 1 + - + + + - 1 2 1 + - + + + - + 1 2 ???\nvar ary = Array(3); ary[0] = 2; ary.map(function (elem) { return \"1\"; }); [\"1\", empty × 2] map is only invoked for elements of the Array which have been initialiazed\nfunction sideEffecting(ary) { ary[0] = ary[2]; } function bar(a, b, c) { c = 10; sideEffecting(arguments); return a + b + c; } bar(1, 1, 1); 21 variables are tied to the arguments object even not in the same scope changing the variables changes arguments changing arguments changes the local variables even\nvar a = 111111111111111110000, b = 1111; a + b; 111111111111111110000 lack of precision for numbers in js affects both small and big numbers\nvar x = [].reverse; x(); ??? [].reverse will return this when invoked without an explicit(明确的) receiver object it will default to the default this AKA window\nES5???\nNumber.MIN_VALUE; 5e-324; Number.MIN_VALUE \u003e 0; true - Number.MAX_VALUE - 1.7976931348623157e308 - Number.MAX_VALUE \u003e 0; false; 1 \u003c 2 \u003c 3 true 3 \u003c 2 \u003c 1 true true gets intified and is 1 false gets intified and become 0\n// the most classic wtf 2 == [[[2]]] true both objects get converted to strings and in both cases the resulting string is “2”\n3.toString() 3..toString() 3...toString() error \"3\" error 3.x is a valid syntax to define “3” with a mantissa(尾数) of x toString is not a valid number, but the empty string is ???\n(function () { var x = (y = 1); })(); console.log(y); console.log(x); 1 error y is an automatic global, not a function local one\nvar a = /123/, b = /123/; a == b; a === b; false false Per spec Two regular expression literals in a program evaluate to regular expression objects that never compare as === to each other even if the two literals’ contents are identical. 同一个程序内的正则表达式永不使用===相互比较，尽管二者内容一样\nvar a = [1, 2, 3], b = [1, 2, 3], c = [1, 2, 4]; a == b; a === b; a \u003e c; a \u003c c; false false false true Arrays are compared lexicographically with \u003e and \u003c, but not with == and ===\nvar a = {}, b = Object.prototype; [a.prototype === b, Object.getPrototypeOf(a) === b]; false true Functions have a prototype property but other objects don’t a.prototype is undefined Every Object instead has an internal property accessible via Object.getPrototypeOf\nfunction f() {} var a = f.prototype, b = Object.getPrototypeOf(f); a === b; false f.prototype is the object that will become the parent of any objects created with new f Object.getPrototypeOf returns the parent in the inheritance hierarchy\nfunction foo() {} var oldName = foo.name; foo.name = \"bar\"; [oldName, foo.name]; [\"foo\", \"foo\"] name is a read only property\n1 2 3\".replace(/\\d/g, parseInt) \"1 NaN 3\" String.prototype.replace invokes the callback function with multiple arguments where the first is the match then there is one argument for each capturing group then there is the offset of the matched substring finally the original string itself parseInt will be invoked with arguments [1, 0], [2, 2], [3, 4] ???\nfunction f() {} var parent = Object.getPrototypeOf(f); f.name; parent.name; typeof eval(f.name); typeof eval(parent.name); \"f\" \"Empty\" \"function\" error The function prototype object is defined somewhere, has a name, can be invoked but it is not in the current scope\nvar lowerCaseOnly = /^[a-z]+$/; [lowerCaseOnly.test(null), lowerCaseOnly.test()]; [true, true] the argument is converted to a string with the abstract ToString operation it is “null” and “undefined”\n[, , ,].join(\", \"); \", , \" JS allows a trailing comma(尾随分隔符) when defining arrays It is an array of three undefined join()\nvar a = {class: \"Animal\", name: 'Fido'}; a.class It depends on brower class is a reserved word accepted as a property name by Chrome,Firefox and Opera fail in IE accept most reserved words (int, private, throws etc) as variable names class is verboten(禁止的)\nvar a = new Date(\"epoch\"); a instanceof Date is true, but invalid time is internally kept as a Number in this case it is a NaN\nvar a = Function.length, b = new Function().length; a === b; false Function.length is defined to be 1 the length property of the Function prototype object is defined to be 0\nvar a = Date(0); var b = new Date(0); var c = new Date(); [a === b, b === c, a === c]; [false, false, false] a \"Thu Jan 18 2018 18:25:18 GMT+0800 (中国标准时间)\" b Thu Jan 01 1970 08:00:00 GMT+0800 (中国标准时间) c Thu Jan 18 2018 18:25:18 GMT+0800 (中国标准时间) When it is invoked as a function, it returns a String representation of the current time When Date is invoked as a constructor it returns an object relative to the epoch(Jan 01 1970) When the argument is missing it returns the current date\nvar min = Math.min(), max = Math.max(); min \u003c max; false min Infinity max -Infinity Math.min returns +Infinity when supplied an empty argument list\nfunction captureOne(re, str) { var match = re.exec(str); return match \u0026\u0026 match[1]; } var numRe = /num=(\\d+)/gi, wordRe = /word=(\\w+)/i, a1 = captureOne(numRe, \"num=1\"), a2 = captureOne(wordRe, \"word=1\"), a3 = captureOne(numRe, \"NUM=2\"), a4 = captureOne(wordRe, \"WORD=2\"); [a1 === a2, a3 === a4]; Regular expressions in JavaScript if defined using the /g flag will carry a state across matches, even if they are actually used on different strings (the lastIndex property). This means a3 will be null as the regular expression was applied starting from the index of the last matched string, even if it was a different one.\nvar a = new Date(\"2014-03-19\"), b = new Date(2014, 03, 19); [a.getDay() === b.getDay(), a.getMonth() === b.getMonth()]; [false, false] JavaScript inherits 40 years old design from C: days are 1-indexed in C’s struct tm, but months are 0 indexed. In addition to that, getDay returns the 0-indexed day of the week, to get the 1-indexed day of the month you have to use getDate, which doesn’t return a Date object.\nif (\"http://giftwrapped.com/picture.jpg\".match(\".gif\")) { (\"a gif file\"); } else { (\"not a gif file\"); } \"a gif file\" String.prototype.match silently converts the string into a regular expression, without escaping it, thus the ‘.’ becomes a metacharacter matching ‘/’.\nfunction foo(a) { var a; return a; } function bar(a) { var a = \"bye\"; return a; } [foo(\"hello\"), bar(\"hello\")]; [\"hello\", \"bye\"] Variabled declarations are hoisted, but in this case since the variable exists already in the scope, they are removed altogether. In bar() the variable declaration is removed but the assignment remains, so it has effect.\n参考：http://javascript-puzzlers.herokuapp.com/\n","wordCount":"1650","inLanguage":"zh","datePublished":"2018-01-20T09:22:05Z","dateModified":"2018-01-20T09:22:05Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://barnett617.github.io/wilson-blog/posts/2018-01-20-javascript-puzzlers/"},"publisher":{"@type":"Organization","name":"Wilson's Blog","logo":{"@type":"ImageObject","url":"https://barnett617.github.io/wilson-blog/favicon_io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://barnett617.github.io/wilson-blog/ accesskey=h title="Wilson's Blog (Alt + H)"><img src=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png alt aria-label=logo height=35>Wilson's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://barnett617.github.io/wilson-blog/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://barnett617.github.io/wilson-blog/archives title=时间线><span>时间线</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/search/ title=搜索><span>搜索</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/tags/ title=标签分类><span>标签分类</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/about/ title=关于我><span>关于我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>javascript-puzzlers</h1><div class=post-meta><span title='2018-01-20 09:22:05 +0000 UTC'>2018-01-20 09:22:05</span>&nbsp;·&nbsp;8 分钟&nbsp;·&nbsp;1650 字&nbsp;|&nbsp;<a href=https://github.com/barnett617/wilson-blog/tree/main/content//posts/2018-01-20-javascript-puzzlers.md rel="noopener noreferrer" target=_blank>修改建议</a></div></header><div class=post-content><p>关于深入理解 js 的 44 道 wired 题目，经实际验证及分析的学习笔记。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[&#34;1&#34;, &#34;2&#34;, &#34;3&#34;].map(parseInt)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[1, NaN, NaN]
</span></span></code></pre></div><p>map()
map passes 3 params (element, index, array)
parseInt
take two parameters (val, radix)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>typeof null
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;object&#34;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>null instanceof object
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span></code></pre></div><p>typeof always return &ldquo;object&rdquo; for <strong>native non callable objects</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[ [3, 2, 1].reduce(Math.pow), [].reduce(Math.pow) ]
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>reduce on an empty array without an initial value throws TypeError
</span></span></code></pre></div><p>array.reduce()
Math.pow</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>val</span> <span class=o>=</span> <span class=s2>&#34;smtg&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Value is &#34;</span> <span class=o>+</span> <span class=p>(</span><span class=nx>val</span> <span class=o>===</span> <span class=s2>&#34;smtg&#34;</span><span class=p>)</span> <span class=o>?</span> <span class=s2>&#34;Something&#34;</span> <span class=o>:</span> <span class=s2>&#34;Nothing&#34;</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Something
</span></span></code></pre></div><p>the + operator has higher precedence than the ternary(三元) one</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;World!&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=nx>name</span> <span class=o>===</span> <span class=s2>&#34;undefined&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;Jack&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Goodbye &#34;</span> <span class=o>+</span> <span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Hello &#34;</span> <span class=o>+</span> <span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Goodbye Jack
</span></span></code></pre></div><p>The var declaration is hoisted to the function scope, but the initialization is not.
声明被隔离，初始化没有
declaration
initialization
闭包</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>END</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>53</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>START</span> <span class=o>=</span> <span class=nx>END</span> <span class=o>-</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=nx>START</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;=</span> <span class=nx>END</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>count</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>count</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>boom
</span></span></code></pre></div><p>it goes into a infinite loop
2^53 is the highest possible number in JS
2^53+1 gives 2^53(never become larger than it)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>ary</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>ary</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>ary</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>x</span> <span class=o>===</span> <span class=kc>undefined</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[]
</span></span></code></pre></div><p>Array.prototype.filter is not invoked for the missing elements
filter()</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>two</span> <span class=o>=</span> <span class=mf>0.2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>one</span> <span class=o>=</span> <span class=mf>0.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>eight</span> <span class=o>=</span> <span class=mf>0.8</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>six</span> <span class=o>=</span> <span class=mf>0.6</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>two</span> <span class=o>-</span> <span class=nx>one</span> <span class=o>==</span> <span class=nx>one</span><span class=p>,</span> <span class=nx>eight</span> <span class=o>-</span> <span class=nx>six</span> <span class=o>==</span> <span class=nx>two</span><span class=p>];</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[true, false]
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>eight - six
</span></span><span class=line><span class=cl>0.20000000000000007
</span></span><span class=line><span class=cl>two - one
</span></span><span class=line><span class=cl>0.1
</span></span></code></pre></div><p>JS does not have precision(精确的) math, even though sometimes it work correctly</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showCase</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>switch</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s2>&#34;A&#34;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Case A&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s2>&#34;B&#34;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Case B&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=kc>undefined</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;undefined&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Do not know!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>showCase</span><span class=p>(</span><span class=k>new</span> <span class=nb>String</span><span class=p>(</span><span class=s2>&#34;A&#34;</span><span class=p>));</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Do not know!
</span></span></code></pre></div><p>switch uses === internally
new String(x) !== x</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showCase2</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>switch</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s2>&#34;A&#34;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Case A&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s2>&#34;B&#34;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Case B&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=kc>undefined</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;undefined&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Do not know!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>showCase2</span><span class=p>(</span><span class=nb>String</span><span class=p>(</span><span class=s2>&#34;A&#34;</span><span class=p>));</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Case A
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>String(&#34;B&#34;)
</span></span><span class=line><span class=cl>&#34;B&#34;
</span></span><span class=line><span class=cl>String(1)
</span></span><span class=line><span class=cl>&#34;1&#34;
</span></span></code></pre></div><p>String does not create an object but does return a string
typeof String(1) === &ldquo;string&rdquo;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>isOdd</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>num</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>isEven</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>num</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>isSane</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>isEven</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=o>||</span> <span class=nx>isOdd</span><span class=p>(</span><span class=nx>num</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>values</span> <span class=o>=</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>&#34;13&#34;</span><span class=p>,</span> <span class=o>-</span><span class=mi>9</span><span class=p>,</span> <span class=kc>Infinity</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>values</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>isSane</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[true, true, true, false, false]
</span></span></code></pre></div><p>Infinity % 2 gives NaN
-9 % 2 gives -1
modulo operator(模运算符) keeps sign so it&rsquo;s result is only reliable compared to 0</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>parseInt(3, 8)
</span></span><span class=line><span class=cl>parseInt(3, 2)
</span></span><span class=line><span class=cl>parseInt(3, 0)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>3
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>parseInt(3, 8)
</span></span><span class=line><span class=cl>3
</span></span><span class=line><span class=cl>parseInt(3, 2)
</span></span><span class=line><span class=cl>NaN
</span></span><span class=line><span class=cl>parseInt(3, 0)
</span></span><span class=line><span class=cl>3
</span></span></code></pre></div><p>3 does not exist in base 2, so NaN
parseInt(3, 0) parseInt will consider a bogus radix(考虑伪造一个基数) and assume you meant 10</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Array.isArray( Array.prototype )
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>true
</span></span></code></pre></div><p>Array.prototype is an Array</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>([</span><span class=mi>0</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span> <span class=o>==</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;wut&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span></code></pre></div><p>[0] as a boolean is considered true
Alas
using it in the comparisions it gets converted in a different way and all goes to hell</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[] == []
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span></code></pre></div><p>== is the spawn of satan(==是恶魔之卵？？？)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#39;5&#39; + 3
</span></span><span class=line><span class=cl>&#39;5&#39; - 3
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;53&#34;, 2
</span></span></code></pre></div><p>Strings know about + and will use it
but they are ignoreant of -
int that case the strings get converted to numbers</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1 + - + + + - + 1
</span></span><span class=line><span class=cl>2
</span></span><span class=line><span class=cl>1 + - 1
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>1 + - + 1
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>1 + - + + 1
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>1 + - + + + - 1
</span></span><span class=line><span class=cl>2
</span></span><span class=line><span class=cl>1 + - + + + - + 1
</span></span><span class=line><span class=cl>2
</span></span></code></pre></div><p>???</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>ary</span> <span class=o>=</span> <span class=nb>Array</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ary</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>ary</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>elem</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s2>&#34;1&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[&#34;1&#34;, empty × 2]
</span></span></code></pre></div><p>map is only invoked for elements of the Array which have been initialiazed</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sideEffecting</span><span class=p>(</span><span class=nx>ary</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>ary</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=nx>ary</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>bar</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>,</span> <span class=nx>c</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>c</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>sideEffecting</span><span class=p>(</span><span class=nx>arguments</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span> <span class=o>+</span> <span class=nx>c</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>bar</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>21
</span></span></code></pre></div><p>variables are tied to the arguments object
even not in the same scope
changing the variables changes arguments
changing arguments changes the local variables even</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>111111111111111110000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>=</span> <span class=mi>1111</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>111111111111111110000
</span></span></code></pre></div><p>lack of precision for numbers in js affects both <strong>small</strong> and <strong>big</strong> numbers</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=p>[].</span><span class=nx>reverse</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>x</span><span class=p>();</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>???
</span></span></code></pre></div><p>[].reverse will return this
when invoked without an explicit(明确的) receiver object it will default to the default this AKA window</p><p>ES5???</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>Number</span><span class=p>.</span><span class=nx>MIN_VALUE</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=mf>5e-324</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>Number</span><span class=p>.</span><span class=nx>MIN_VALUE</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kc>true</span> <span class=o>-</span> <span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_VALUE</span> <span class=o>-</span> <span class=mf>1.7976931348623157</span><span class=nx>e308</span> <span class=o>-</span> <span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_VALUE</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kc>false</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1 &lt; 2 &lt; 3
</span></span><span class=line><span class=cl>true
</span></span><span class=line><span class=cl>3 &lt; 2 &lt; 1
</span></span><span class=line><span class=cl>true
</span></span></code></pre></div><p>true gets intified and is 1
false gets intified and become 0</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// the most classic wtf
</span></span><span class=line><span class=cl>2 == [[[2]]]
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>true
</span></span></code></pre></div><p>both objects get converted to strings and in both cases the resulting string is &ldquo;2&rdquo;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=mf>3.</span><span class=nx>toString</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=mf>3.</span><span class=p>.</span><span class=nx>toString</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=mf>3.</span><span class=p>..</span><span class=nx>toString</span><span class=p>()</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>error
</span></span><span class=line><span class=cl>&#34;3&#34;
</span></span><span class=line><span class=cl>error
</span></span></code></pre></div><p>3.x is a valid syntax to define &ldquo;3&rdquo; with a mantissa(尾数) of x
toString is not a valid number, but the empty string is
???</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=p>(</span><span class=nx>y</span> <span class=o>=</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1
</span></span><span class=line><span class=cl>error
</span></span></code></pre></div><p>y is an automatic global, not a function local one</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=sr>/123/</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>=</span> <span class=sr>/123/</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>==</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>===</span> <span class=nx>b</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span><span class=line><span class=cl>false
</span></span></code></pre></div><p>Per spec Two regular expression literals in a program evaluate to regular expression objects that never compare as === to each other even if the two literals&rsquo; contents are identical.
同一个程序内的正则表达式永不使用===相互比较，尽管二者内容一样</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>c</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>==</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>===</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>&gt;</span> <span class=nx>c</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>&lt;</span> <span class=nx>c</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span><span class=line><span class=cl>false
</span></span><span class=line><span class=cl>false
</span></span><span class=line><span class=cl>true
</span></span></code></pre></div><p>Arrays are compared lexicographically with > and &lt;, but not with == and ===</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>prototype</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>a</span><span class=p>.</span><span class=nx>prototype</span> <span class=o>===</span> <span class=nx>b</span><span class=p>,</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=o>===</span> <span class=nx>b</span><span class=p>];</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span><span class=line><span class=cl>true
</span></span></code></pre></div><p>Functions have a prototype property but other objects don&rsquo;t
a.prototype is undefined
Every Object instead has an internal property accessible via Object.getPrototypeOf</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>f</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=nx>f</span><span class=p>.</span><span class=nx>prototype</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=nx>f</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>===</span> <span class=nx>b</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span></code></pre></div><p>f.prototype is the object that will become the parent of any objects created with new f
Object.getPrototypeOf returns the parent in the inheritance hierarchy</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>foo</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>oldName</span> <span class=o>=</span> <span class=nx>foo</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>foo</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;bar&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>oldName</span><span class=p>,</span> <span class=nx>foo</span><span class=p>.</span><span class=nx>name</span><span class=p>];</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[&#34;foo&#34;, &#34;foo&#34;]
</span></span></code></pre></div><p>name is a read only property</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1 2 3&#34;.replace(/\d/g, parseInt)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;1 NaN 3&#34;
</span></span></code></pre></div><p>String.prototype.replace invokes the callback function with multiple arguments where the first is the match
then there is one argument for each capturing group
then there is the offset of the matched substring
finally the original string itself
parseInt will be invoked with arguments [1, 0], [2, 2], [3, 4]
???</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>f</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>parent</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=nx>f</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>f</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>parent</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>typeof</span> <span class=nb>eval</span><span class=p>(</span><span class=nx>f</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>typeof</span> <span class=nb>eval</span><span class=p>(</span><span class=nx>parent</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;f&#34;
</span></span><span class=line><span class=cl>&#34;Empty&#34;
</span></span><span class=line><span class=cl>&#34;function&#34;
</span></span><span class=line><span class=cl>error
</span></span></code></pre></div><p>The function prototype object is defined somewhere, has a name, can be invoked
but it is not in the current scope</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>lowerCaseOnly</span> <span class=o>=</span> <span class=sr>/^[a-z]+$/</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>lowerCaseOnly</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=kc>null</span><span class=p>),</span> <span class=nx>lowerCaseOnly</span><span class=p>.</span><span class=nx>test</span><span class=p>()];</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[true, true]
</span></span></code></pre></div><p>the argument is converted to a string with the abstract ToString operation
it is &ldquo;null&rdquo; and &ldquo;undefined&rdquo;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>[,</span> <span class=p>,</span> <span class=p>,].</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>);</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;, , &#34;
</span></span></code></pre></div><p>JS allows a trailing comma(尾随分隔符) when defining arrays
It is an array of three undefined
join()</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>a</span> <span class=o>=</span> <span class=p>{</span><span class=k>class</span><span class=p>:</span> <span class=s2>&#34;Animal&#34;</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=s1>&#39;Fido&#39;</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=k>class</span>
</span></span></code></pre></div><p>It depends on brower
class is a reserved word
accepted as a property name by Chrome,Firefox and Opera
fail in IE
accept most reserved words (int, private, throws etc) as variable names
class is verboten(禁止的)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;epoch&#34;</span><span class=p>);</span>
</span></span></code></pre></div><p>a instanceof Date is true, but invalid
time is internally kept as a Number
in this case it is a NaN</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=nb>Function</span><span class=p>.</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Function</span><span class=p>().</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>===</span> <span class=nx>b</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span></code></pre></div><p>Function.length is defined to be 1
the length property of the Function prototype object is defined to be 0</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>b</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>c</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>a</span> <span class=o>===</span> <span class=nx>b</span><span class=p>,</span> <span class=nx>b</span> <span class=o>===</span> <span class=nx>c</span><span class=p>,</span> <span class=nx>a</span> <span class=o>===</span> <span class=nx>c</span><span class=p>];</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[false, false, false]
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>a
</span></span><span class=line><span class=cl>&#34;Thu Jan 18 2018 18:25:18 GMT+0800 (中国标准时间)&#34;
</span></span><span class=line><span class=cl>b
</span></span><span class=line><span class=cl>Thu Jan 01 1970 08:00:00 GMT+0800 (中国标准时间)
</span></span><span class=line><span class=cl>c
</span></span><span class=line><span class=cl>Thu Jan 18 2018 18:25:18 GMT+0800 (中国标准时间)
</span></span></code></pre></div><p>When it is invoked as a function, it returns a String representation of the current time
When Date is invoked as a constructor it returns an object relative to the epoch(Jan 01 1970)
When the argument is missing it returns the current date</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>min</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>min</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>  <span class=nx>max</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>max</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>min</span> <span class=o>&lt;</span> <span class=nx>max</span><span class=p>;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>false
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>min
</span></span><span class=line><span class=cl>Infinity
</span></span><span class=line><span class=cl>max
</span></span><span class=line><span class=cl>-Infinity
</span></span></code></pre></div><p>Math.min returns +Infinity when supplied an empty argument list</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>captureOne</span><span class=p>(</span><span class=nx>re</span><span class=p>,</span> <span class=nx>str</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>match</span> <span class=o>=</span> <span class=nx>re</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=nx>str</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>match</span> <span class=o>&amp;&amp;</span> <span class=nx>match</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>numRe</span> <span class=o>=</span> <span class=sr>/num=(\d+)/gi</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>wordRe</span> <span class=o>=</span> <span class=sr>/word=(\w+)/i</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>a1</span> <span class=o>=</span> <span class=nx>captureOne</span><span class=p>(</span><span class=nx>numRe</span><span class=p>,</span> <span class=s2>&#34;num=1&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>a2</span> <span class=o>=</span> <span class=nx>captureOne</span><span class=p>(</span><span class=nx>wordRe</span><span class=p>,</span> <span class=s2>&#34;word=1&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>a3</span> <span class=o>=</span> <span class=nx>captureOne</span><span class=p>(</span><span class=nx>numRe</span><span class=p>,</span> <span class=s2>&#34;NUM=2&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>a4</span> <span class=o>=</span> <span class=nx>captureOne</span><span class=p>(</span><span class=nx>wordRe</span><span class=p>,</span> <span class=s2>&#34;WORD=2&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>a1</span> <span class=o>===</span> <span class=nx>a2</span><span class=p>,</span> <span class=nx>a3</span> <span class=o>===</span> <span class=nx>a4</span><span class=p>];</span>
</span></span></code></pre></div><p>Regular expressions in JavaScript if defined using the /g flag will carry a state across matches, even if they are actually used on different strings (the lastIndex property). This means a3 will be null as the regular expression was applied starting from the index of the last matched string, even if it was a different one.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=s2>&#34;2014-03-19&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=mi>2014</span><span class=p>,</span> <span class=mi>03</span><span class=p>,</span> <span class=mi>19</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>a</span><span class=p>.</span><span class=nx>getDay</span><span class=p>()</span> <span class=o>===</span> <span class=nx>b</span><span class=p>.</span><span class=nx>getDay</span><span class=p>(),</span> <span class=nx>a</span><span class=p>.</span><span class=nx>getMonth</span><span class=p>()</span> <span class=o>===</span> <span class=nx>b</span><span class=p>.</span><span class=nx>getMonth</span><span class=p>()];</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[false, false]
</span></span></code></pre></div><p>JavaScript inherits 40 years old design from C: days are 1-indexed in C&rsquo;s struct tm, but months are 0 indexed. In addition to that, getDay returns the 0-indexed day of the week, to get the 1-indexed day of the month you have to use getDate, which doesn&rsquo;t return a Date object.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=s2>&#34;http://giftwrapped.com/picture.jpg&#34;</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=s2>&#34;.gif&#34;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=s2>&#34;a gif file&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=s2>&#34;not a gif file&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;a gif file&#34;
</span></span></code></pre></div><p>String.prototype.match silently converts the string into a regular expression, without escaping it, thus the &lsquo;.&rsquo; becomes a metacharacter matching &lsquo;/&rsquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>foo</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>bar</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=s2>&#34;bye&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>foo</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>),</span> <span class=nx>bar</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>)];</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[&#34;hello&#34;, &#34;bye&#34;]
</span></span></code></pre></div><p>Variabled declarations are hoisted, but in this case since the variable exists already in the scope, they are removed altogether. In bar() the variable declaration is removed but the assignment remains, so it has effect.</p><p>参考：<a href=http://javascript-puzzlers.herokuapp.com/>http://javascript-puzzlers.herokuapp.com/</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://barnett617.github.io/wilson-blog/tags/javascript/>javascript</a></li></ul><nav class=paginav><a class=prev href=https://barnett617.github.io/wilson-blog/notes/2018-01-20-js-parameter-scope/><span class=title>« 上一页</span><br><span>js学习笔记——变量作用域</span>
</a><a class=next href=https://barnett617.github.io/wilson-blog/notes/2018-01-19-js-this/><span class=title>下一页 »</span><br><span>js学习笔记——this关键字</span></a></nav><script defer crossorigin=anonymous src=/wilson-blog/assets/js/qrcode.a817fc490b9066afefa35cf981f6f003a76441b45cc519492334607a8cbcb264.js integrity="sha256-qBf8SQuQZq/vo1z5gfbwA6dkQbRcxRlJIzRgeoy8smQ=" onload='const wechatShareBtnFingerprint=document.getElementById("wechat-share-btn");if(wechatShareBtnFingerprint){wechatShareBtnFingerprint.style.position="relative";const e=document.createElement("div");e.id="qrcode",Object.assign(e.style,{position:"absolute",background:"#fff",padding:"8px",bottom:0,"box-sizing":"content-box","box-shadow":"rgba(0, 0, 0, 0.2) 0px 0px 10px 4px",width:"96px",height:"96px",left:"50%",transform:"translate(-50%, -43%)",visibility:"hidden"}),window.wechatShareQrCode=e,wechatShareBtnFingerprint.appendChild(e),new QRCode(document.getElementById("qrcode"),{text:window.location.href,width:128,height:128,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})}'></script><div class=share-buttons><a id=wechat-share-btn target=_blank rel="noopener noreferrer" aria-label="share javascript-puzzlers on wechat" href=javascript:void(0) onclick=return!1 onfocus='const shareBtnsPointer=document.getElementsByClassName("share-buttons")[0];shareBtnsPointer&&(shareBtnsPointer.style.overflowX="initial"),wechatShareQrCode.style.visibility="visible"' onblur='wechatShareQrCode.style.visibility="hidden"'><svg role="img" viewBox="0 0 24 24" height="30" width="30" fill="currentcolor"><path d="M8.691 2.188C3.891 2.188.0 5.476.0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59.0 01.213.665l-.39 1.48c-.019.07-.048.141-.048.213.0.163.13.295.29.295a.326.326.0 00.167-.054l1.903-1.114a.864.864.0 01.717-.098 10.16 10.16.0 002.837.403c.276.0.543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642.0 1.162.529 1.162 1.18A1.17 1.17.0 015.785 8.349 1.17 1.17.0 014.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813.0c.642.0 1.162.529 1.162 1.18a1.17 1.17.0 01-1.162 1.178 1.17 1.17.0 01-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826.0 1.622-.12 2.361-.336a.722.722.0 01.598.082l1.584.926a.272.272.0 00.14.047c.134.0.24-.111.24-.247.0-.06-.023-.12-.038-.177l-.327-1.233a.582.582.0 01-.023-.156.49.49.0 01.201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.03zm-2.53 3.274c.535.0.969.44.969.982a.976.976.0 01-.969.983.976.976.0 01-.969-.983c0-.542.434-.982.97-.982zm4.844.0c.535.0.969.44.969.982a.976.976.0 01-.969.983.976.976.0 01-.969-.983c0-.542.434-.982.969-.982z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share javascript-puzzlers on x" href="https://x.com/intent/tweet/?text=javascript-puzzlers&amp;url=https%3a%2f%2fbarnett617.github.io%2fwilson-blog%2fposts%2f2018-01-20-javascript-puzzlers%2f&amp;hashtags=javascript"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://barnett617.github.io/wilson-blog/>Wilson's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>