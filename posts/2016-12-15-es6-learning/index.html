<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ECMAScript6(ECMAScript2015)学习笔记 | Wilson's Blog</title>
<meta name=keywords content="JavaScript"><meta name=description content="ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。
一、ES6 简介 ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。
即 ES6 === ES2015
二、ES6 转码器 Babel是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在现有环境执行。（chrome 已支持 ES6 解释，亲测可用）大家可以选择自己习惯的工具来使用使用 Babel，具体过程可直接在Babel 官网查看：
三、常用特性 let / const（与传统 var 对比） class / extends / super（面向对象） arrow functions（箭头函数） template string（模板字符串） destructing（解构） default（默认值） rest / arguments（函数参数） 四、特性详解 （1）let 与 var 类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。
var name = &#34;tom&#34;; while (true) { var name = &#34;bar&#34;; console."><meta name=author content><link rel=canonical href=https://barnett617.github.io/wilson-blog/posts/2016-12-15-es6-learning/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/wilson-blog/assets/css/stylesheet.d6284f01cb1f2b7f9d227d153ada9aeb304f496ff910df67a394db7c75330f65.css integrity="sha256-1ihPAcsfK3+dIn0VOtqa6zBPSW/5EN9no5TbfHUzD2U=" rel="preload stylesheet" as=style><link rel=icon href=https://barnett617.github.io/wilson-blog/favicon_io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://barnett617.github.io/wilson-blog/favicon_io/favicon16x16.png><link rel=icon type=image/png sizes=32x32 href=https://barnett617.github.io/wilson-blog/favicon_io/favicon32x32.png><link rel=apple-touch-icon href=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png><link rel=mask-icon href=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://barnett617.github.io/wilson-blog/posts/2016-12-15-es6-learning/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="ECMAScript6(ECMAScript2015)学习笔记"><meta property="og:description" content="ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。
一、ES6 简介 ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。
即 ES6 === ES2015
二、ES6 转码器 Babel是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在现有环境执行。（chrome 已支持 ES6 解释，亲测可用）大家可以选择自己习惯的工具来使用使用 Babel，具体过程可直接在Babel 官网查看：
三、常用特性 let / const（与传统 var 对比） class / extends / super（面向对象） arrow functions（箭头函数） template string（模板字符串） destructing（解构） default（默认值） rest / arguments（函数参数） 四、特性详解 （1）let 与 var 类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。
var name = &#34;tom&#34;; while (true) { var name = &#34;bar&#34;; console."><meta property="og:type" content="article"><meta property="og:url" content="https://barnett617.github.io/wilson-blog/posts/2016-12-15-es6-learning/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-12-16T15:34:31+00:00"><meta property="article:modified_time" content="2017-06-23T20:20:20+00:00"><meta property="og:site_name" content="Wilson's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="ECMAScript6(ECMAScript2015)学习笔记"><meta name=twitter:description content="ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。
一、ES6 简介 ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。
即 ES6 === ES2015
二、ES6 转码器 Babel是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在现有环境执行。（chrome 已支持 ES6 解释，亲测可用）大家可以选择自己习惯的工具来使用使用 Babel，具体过程可直接在Babel 官网查看：
三、常用特性 let / const（与传统 var 对比） class / extends / super（面向对象） arrow functions（箭头函数） template string（模板字符串） destructing（解构） default（默认值） rest / arguments（函数参数） 四、特性详解 （1）let 与 var 类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。
var name = &#34;tom&#34;; while (true) { var name = &#34;bar&#34;; console."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://barnett617.github.io/wilson-blog/posts/"},{"@type":"ListItem","position":2,"name":"ECMAScript6(ECMAScript2015)学习笔记","item":"https://barnett617.github.io/wilson-blog/posts/2016-12-15-es6-learning/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ECMAScript6(ECMAScript2015)学习笔记","name":"ECMAScript6(ECMAScript2015)学习笔记","description":"ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。\n一、ES6 简介 ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。\n即 ES6 === ES2015\n二、ES6 转码器 Babel是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在现有环境执行。（chrome 已支持 ES6 解释，亲测可用）大家可以选择自己习惯的工具来使用使用 Babel，具体过程可直接在Babel 官网查看：\n三、常用特性 let / const（与传统 var 对比） class / extends / super（面向对象） arrow functions（箭头函数） template string（模板字符串） destructing（解构） default（默认值） rest / arguments（函数参数） 四、特性详解 （1）let 与 var 类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。\nvar name = \u0026#34;tom\u0026#34;; while (true) { var name = \u0026#34;bar\u0026#34;; console.","keywords":["JavaScript"],"articleBody":"ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。\n一、ES6 简介 ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在2015 年发布的，所以又称 ECMAScript 2015。\n即 ES6 === ES2015\n二、ES6 转码器 Babel是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在现有环境执行。（chrome 已支持 ES6 解释，亲测可用）大家可以选择自己习惯的工具来使用使用 Babel，具体过程可直接在Babel 官网查看：\n三、常用特性 let / const（与传统 var 对比） class / extends / super（面向对象） arrow functions（箭头函数） template string（模板字符串） destructing（解构） default（默认值） rest / arguments（函数参数） 四、特性详解 （1）let 与 var 类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。\nvar name = \"tom\"; while (true) { var name = \"bar\"; console.log(name); break; } console.log(name); bar bar\n使用 var 两次输出都是 bar，内层变量覆盖外层变量。这是因为 ES5 只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。\n而 let 则实际上为 JavaScript 新增了块级作用域。用它所声明的变量，只在 let 命令所在的代码块内有效。\nlet name = \"tom\"; while (true) { let name = \"bar\"; console.log(name); break; } console.log(name); bar tom\n另外一个 var 带来的不合理场景就是用来计数的循环变量泄露为全局变量，如下\nvar a = []; for(var i=0; i\u003c10; i++) { a[i] = function() { console.log(i); }; } a[5](); 10\n上面代码中，变量 i 是 var 声明的，在全局范围内都有效。所以每一次循环，新的 i 值都会覆盖旧值，导致最后输出的是最后一轮的 i 的值。而使用 let 则不会出现这个问题。\nvar a = []; for (let i = 0; i \u003c 10; i++) { a[i] = function () { console.log(i); }; } a[5](); 5\n（2）const const 也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。\nconst PI = Math.PI PI = 23 VM1600:2 Uncaught TypeError: Assignment to constant variable.(…)(anonymous function) @ VM1600:2 当我们尝试去改变用 const 声明的常量时，浏览器就会报错。const 有一个很好的应用场景，就是当我们引用第三方库时声明的变量，用 const 来声明可以避免未来不小心重命名而导致出现 bug：\nconst monent = require(‘moment’)\n（3）class/extends/super ES6 提供了更接近传统语言的写法，引入了 Class（类）这个概念。新的 class 写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。\nclass Animal { constructor() { this.type = 'animal' } says(say) { console.log(this.type + 'says' +say) } } let animal = new Animal() animal.says('hello') animalsayshello\nclass Cat extends Animal { constructor() { super() this.type = 'cat' } } let cat = new Cat() cat.says('hello') catsayshello\n上面代码首先用class定义了一个“类”，可以看到里面有一个 constructor 方法，这就是构造方法。\n而this关键字则代表实例对象。简单地说，constructor 内定义的方法和属性是实例对象自己的，而 constructor 外定义的方法和属性则是所有实例对象可以共享的。\nClass 之间可以通过extends关键字实现继承，这比 ES5 的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个 Cat 类，该类通过 extends 关键字，继承了 Animal 类的所有属性和方法。\nsuper关键字，它指代父类的实例（即父类的this 对象）。子类必须在 constructor 方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的 this 对象，而是继承父类的 this 对象，然后对其进行加工。如果不调用 super 方法，子类就得不到 this 对象。\nES6 的继承机制，实质是先创造父类的实例对象 this（所以必须先调用 super 方法），然后再用子类的构造函数修改 this。\n（4）arrow function ES6 最最常用的一个新特性了，用它来写 function 比原来的写法要简洁清晰很多\nvar f = (i) =\u003e i+1 var result = f(3) console.log(result) 4\n其实声明函数只需要（i）=\u003ei + 1 这一句 ES6 的箭头函数功能强大，详情见Arrow Functions\n// ES5函数使用 function test(x, y) { x++; y--; return x + y; } var f1 = test(6, 7) console.log(f1) 13\n这里实际为 7+6，return 的时候 x 已经为 7，y 为 6，可自行调试观察\n// ES6 arrow functions var arrow = (x, y) =\u003e {x++;y--;return x+y} var result2 = arrow(3, 9) console.log(result2) Arrow functions 还可以解决一个 ES5 中关于 this 的问题，JavaScript 语言的 this 对象一直是一个令人头痛的问题，在对象方法中使用 this，例如：\nclass Animal { constructor() { this.type = 'animal' } says(say) { setTimeout(function() { console.log(this.type + ' says ' + say) }, 1000) } } var animal = new Animal() animal.says('hi') undefined says hi\n原因：setTimeout 中的 this 指向的是全局对象\n传统解决方法 1：将 this 传给 self,再用 self 来指代 this\nclass Animal { constructor() { this.type = 'animal' } says(say) { var self = this setTimeout(function() { console.log(self.type + ' says ' + say) }, 1000) } } var animal = new Animal() animal.says('hi') 传统解决方法 2：使用 bind(this)\nclass Animal { constructor() { this.type = 'animal' } says(say) { setTimeout(function() { console.log(this.type + ' says ' + say) }.bind(this), 1000) } } var animal = new Animal() animal.says('hi') 使用 arrow functions 解决\nclass Animal { constructor() { this.type = 'animal' } says(say) { setTimeout( () =\u003e { console.log(this.type + ' says ' + say) }, 1000) } } var animal = new Animal() animal.says('hi') 当我们使用箭头函数时，函数体内的 this 对象，就是定义时所在的对象，而不是使用时所在的对象。并不是因为箭头函数内部有绑定 this 的机制，实际原因是箭头函数根本没有自己的 this，它的 this 是继承外面的，因此内部的 this 就是外层代码块的 this。\n（5）template string 当我们要插入大段的html 内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等。\n\u003cbody\u003e \u003cdiv id=\"result\"\u003etest\u003c/div\u003e \u003c/body\u003e $(function() { var count = 5 var onSale = 3 $(\"#result\").append( \"There are \" + count + \"\" + \" items in your basket,\" + \"\" + onSale + \" are on sale!\" ); }) testThere are 5 items in your basket,3 are on sale!\n要用一堆的’+‘号来连接文本与变量，而使用 ES6 的新特性**模板字符串``**后，我们可以直接这么来写\n$(function() { var count = 5 var onSale = 3 $(\"#result\").append(` There are ${count} items in your basket, ${onSale} are on sale! `); }) test There are 5 items in your basket, 3 are on sale!\n非一般的简洁\n用反引号（\\）（键盘 ESC 下方）来标识起始，用${}（类似于 JavaEE 的 EL 表达式）来引用变量，而且所有的空格和缩进都会被保留在输出之中\n（6）destructing ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）\n// ES5 let cat = \"tom\"; let mouse = \"terry\"; let zoo = { cat: cat, mouse: mouse }; console.log(zoo); Object {cat: “tom”, mouse: “terry”}\n// ES6 let zoo2 = { cat, mouse }; console.log(zoo2); Object {cat: “tom”, mouse: “terry”}\nlet dog = { type: \"animal\", num: 6 }; let { type, num } = dog; console.log(type, num); animal 6\n（7）default // ES5 function animal(type) { type = type || \"cat\"; console.log(type); } animal(); animal(\"dog\"); cat dog\n调用方法时若不加参数则使用默认值\n// ES6 function animal(type = \"cat\") { console.log(type); } animal(); animal(\"dog\"); cat dog\n（8）rest // ES6 rest function animals(...types) { console.log(types); } animals(\"cat\", \"dog\", \"fish\"); [“cat”, “dog”, “fish”]\n","wordCount":"734","inLanguage":"zh","datePublished":"2016-12-16T15:34:31Z","dateModified":"2017-06-23T20:20:20Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://barnett617.github.io/wilson-blog/posts/2016-12-15-es6-learning/"},"publisher":{"@type":"Organization","name":"Wilson's Blog","logo":{"@type":"ImageObject","url":"https://barnett617.github.io/wilson-blog/favicon_io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://barnett617.github.io/wilson-blog/ accesskey=h title="Wilson's Blog (Alt + H)"><img src=https://barnett617.github.io/wilson-blog/favicon_io/apple-touch-icon.png alt aria-label=logo height=35>Wilson's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://barnett617.github.io/wilson-blog/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://barnett617.github.io/wilson-blog/archives title=时间线><span>时间线</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/search/ title=搜索><span>搜索</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/tags/ title=标签分类><span>标签分类</span></a></li><li><a href=https://barnett617.github.io/wilson-blog/about/ title=关于我><span>关于我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>ECMAScript6(ECMAScript2015)学习笔记</h1><div class=post-meta><span title='2016-12-16 15:34:31 +0000 UTC'>2016-12-16 15:34:31</span>&nbsp;·&nbsp;4 分钟&nbsp;·&nbsp;734 字&nbsp;|&nbsp;<a href=https://github.com/barnett617/wilson-blog/tree/main/content//posts/2016-12-15-es6-learning.md rel="noopener noreferrer" target=_blank>修改建议</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#一es6-简介>一、ES6 简介</a></li><li><a href=#二es6-转码器>二、ES6 转码器</a></li><li><a href=#三常用特性>三、常用特性</a></li><li><a href=#四特性详解>四、特性详解</a><ul><li><a href=#1let>（1）let</a></li><li><a href=#2const>（2）const</a></li><li><a href=#3classextendssuper>（3）class/extends/super</a></li><li><a href=#4arrow-function>（4）arrow function</a></li><li><a href=#5template-string>（5）template string</a></li><li><a href=#6destructing>（6）destructing</a></li><li><a href=#7default>（7）default</a></li><li><a href=#8rest>（8）rest</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在<strong>2015 年</strong>发布的，所以又称 ECMAScript 2015。</p><h2 id=一es6-简介>一、ES6 简介<a hidden class=anchor aria-hidden=true href=#一es6-简介>#</a></h2><blockquote><p>ECMAScript 6（以下简称 ES6）是 JavaScript 语言的下一代标准。因为当前版本的 ES6 是在<strong>2015 年</strong>发布的，所以又称 ECMAScript 2015。</p></blockquote><blockquote><p>即 ES6 === ES2015</p></blockquote><h2 id=二es6-转码器>二、ES6 转码器<a hidden class=anchor aria-hidden=true href=#二es6-转码器>#</a></h2><blockquote><p><a href=https://babeljs.io/>Babel</a>是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在现有环境执行。（chrome 已支持 ES6 解释，亲测可用）大家可以选择自己习惯的工具来使用使用 Babel，具体过程可直接在<a href=https://babeljs.io/>Babel 官网</a>查看：</p></blockquote><h2 id=三常用特性>三、常用特性<a hidden class=anchor aria-hidden=true href=#三常用特性>#</a></h2><ol><li>let / const（与传统 var 对比）</li><li>class / extends / super（面向对象）</li><li>arrow functions（箭头函数）</li><li>template string（模板字符串）</li><li>destructing（解构）</li><li>default（默认值）</li><li>rest / arguments（函数参数）</li></ol><h2 id=四特性详解>四、特性详解<a hidden class=anchor aria-hidden=true href=#四特性详解>#</a></h2><h3 id=1let>（1）let<a hidden class=anchor aria-hidden=true href=#1let>#</a></h3><blockquote><p>与 var 类似，都是用来<strong>声明变量</strong>的，但在实际运用中他俩都有各自的特殊用途。</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;tom&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;bar&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>bar
bar</p><p>使用 var 两次输出都是 bar，内层变量覆盖外层变量。这是因为 ES5 只有<strong>全局作用域</strong>和<strong>函数作用域</strong>，没有<strong>块级作用域</strong>，这带来很多不合理的场景。</p><p>而 let 则实际上为 JavaScript 新增了<strong>块级作用域</strong>。用它所声明的变量，只在 let 命令所在的代码块内有效。</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;tom&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;bar&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>bar
tom</p><p>另外一个 var 带来的不合理场景就是用来计数的<strong>循环变量</strong>泄露为<strong>全局变量</strong>，如下</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kd>var</span> <span class=nx>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=nx>i</span><span class=o>&lt;</span><span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>[</span><span class=mi>5</span><span class=p>]();</span>
</span></span></code></pre></div><blockquote><p>10</p><p>上面代码中，<strong>变量 i 是 var 声明的，在全局范围内都有效</strong>。所以每一次循环，<strong>新的 i 值</strong>都会<strong>覆盖旧值</strong>，导致最后<strong>输出</strong>的是<strong>最后一轮</strong>的 i 的值。而使用 let 则不会出现这个问题。</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>[</span><span class=mi>5</span><span class=p>]();</span>
</span></span></code></pre></div><blockquote><p>5</p></blockquote><h3 id=2const>（2）const<a hidden class=anchor aria-hidden=true href=#2const>#</a></h3><blockquote><p>const 也用来声明变量，但是声明的是<strong>常量</strong>。一旦声明，常量的值就不能改变。</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>PI</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span>
</span></span><span class=line><span class=cl><span class=nx>PI</span> <span class=o>=</span> <span class=mi>23</span>
</span></span><span class=line><span class=cl><span class=nx>VM1600</span><span class=o>:</span><span class=mi>2</span> <span class=nx>Uncaught</span> <span class=nx>TypeError</span><span class=o>:</span> <span class=nx>Assignment</span> <span class=nx>to</span> <span class=nx>constant</span> <span class=nx>variable</span><span class=p>.(</span><span class=err>…</span><span class=p>)(</span><span class=nx>anonymous</span> <span class=kd>function</span><span class=p>)</span> <span class=err>@</span> <span class=nx>VM1600</span><span class=o>:</span><span class=mi>2</span>
</span></span></code></pre></div><blockquote><p>当我们尝试去改变用 const 声明的常量时，浏览器就会报错。const 有一个很好的应用场景，就是当我们引用<strong>第三方库</strong>时声明的变量，用 const 来声明可以避免未来不小心重命名而导致出现 bug：</p><p>const monent = require(&lsquo;moment&rsquo;)</p></blockquote><h3 id=3classextendssuper>（3）class/extends/super<a hidden class=anchor aria-hidden=true href=#3classextendssuper>#</a></h3><blockquote><p>ES6 提供了更接近<strong>传统语言</strong>的写法，引入了 Class（类）这个概念。新的 class 写法让<strong>对象原型</strong>的写法更加清晰、更像<strong>面向对象编程</strong>的语法，也更加通俗易懂。</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Animal</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s1>&#39;animal&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>says</span><span class=p>(</span><span class=nx>say</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>+</span> <span class=s1>&#39;says&#39;</span> <span class=o>+</span><span class=nx>say</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>animal</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>.</span><span class=nx>says</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>animalsayshello</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Cat</span> <span class=kr>extends</span> <span class=nx>Animal</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>super</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s1>&#39;cat&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>cat</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Cat</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>cat</span><span class=p>.</span><span class=nx>says</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>catsayshello</p><p>上面代码首先用<strong>class</strong>定义了一个“类”，可以看到里面有一个 constructor 方法，这就是构造方法。</p><p>而<strong>this</strong>关键字则代表<strong>实例对象</strong>。简单地说，constructor 内定义的方法和属性是实例对象自己的，而 constructor 外定义的方法和属性则是所有实例对象可以共享的。</p><p>Class 之间可以通过<strong>extends</strong>关键字实现继承，这比 ES5 的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个 Cat 类，该类通过 extends 关键字，继承了 Animal 类的所有属性和方法。</p><p><strong>super</strong>关键字，它指代父类的<strong>实例</strong>（即父类的<strong>this 对象</strong>）。子类必须在 constructor 方法中调用<strong>super</strong>方法，否则新建实例时会报错。这是因为<strong>子类没有自己的 this 对象</strong>，而是继承父类的 this 对象，然后对其进行加工。如果不调用 super 方法，子类就得不到 this 对象。</p><p>ES6 的继承机制，实质是先创造父类的实例对象 this（所以必须先调用 super 方法），然后再用子类的构造函数修改 this。</p></blockquote><h3 id=4arrow-function>（4）arrow function<a hidden class=anchor aria-hidden=true href=#4arrow-function>#</a></h3><blockquote><p>ES6 最最常用的一个新特性了，用它来写 function 比原来的写法要简洁清晰很多</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>var</span> <span class=n>f</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=n>i</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>result</span> <span class=o>=</span> <span class=n>f</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>4</p><p>其实声明函数只需要（i）=>i + 1 这一句
ES6 的箭头函数功能强大，详情见<a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions>Arrow Functions</a></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// ES5函数使用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>test</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>x</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>y</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>x</span> <span class=o>+</span> <span class=nx>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>f1</span> <span class=o>=</span> <span class=nx>test</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>f1</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>13</p><p>这里实际为 7+6，return 的时候 x 已经为 7，y 为 6，可自行调试观察</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// ES6 arrow functions
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>arrow</span> <span class=o>=</span> <span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span><span class=nx>x</span><span class=o>++</span><span class=p>;</span><span class=nx>y</span><span class=o>--</span><span class=p>;</span><span class=k>return</span> <span class=nx>x</span><span class=o>+</span><span class=nx>y</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>result2</span> <span class=o>=</span> <span class=nx>arrow</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result2</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>Arrow functions 还可以解决一个 ES5 中关于 this 的问题，JavaScript 语言的 this 对象一直是一个令人头痛的问题，在<strong>对象方法</strong>中使用 this，例如：</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Animal</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s1>&#39;animal&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>says</span><span class=p>(</span><span class=nx>say</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>+</span> <span class=s1>&#39; says &#39;</span> <span class=o>+</span> <span class=nx>say</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>animal</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>.</span><span class=nx>says</span><span class=p>(</span><span class=s1>&#39;hi&#39;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>undefined says hi</p><p>原因：setTimeout 中的 this 指向的是全局对象</p><p>传统解决方法 1：将 this 传给 self,再用 self 来指代 this</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Animal</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s1>&#39;animal&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>says</span><span class=p>(</span><span class=nx>say</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>self</span> <span class=o>=</span> <span class=k>this</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>self</span><span class=p>.</span><span class=nx>type</span> <span class=o>+</span> <span class=s1>&#39; says &#39;</span> <span class=o>+</span> <span class=nx>say</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>animal</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>.</span><span class=nx>says</span><span class=p>(</span><span class=s1>&#39;hi&#39;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>传统解决方法 2：使用 bind(this)</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Animal</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s1>&#39;animal&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>says</span><span class=p>(</span><span class=nx>say</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>+</span> <span class=s1>&#39; says &#39;</span> <span class=o>+</span> <span class=nx>say</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>),</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>animal</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>.</span><span class=nx>says</span><span class=p>(</span><span class=s1>&#39;hi&#39;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>使用 arrow functions 解决</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Animal</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s1>&#39;animal&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>says</span><span class=p>(</span><span class=nx>say</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTimeout</span><span class=p>(</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>+</span> <span class=s1>&#39; says &#39;</span> <span class=o>+</span> <span class=nx>say</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>animal</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>.</span><span class=nx>says</span><span class=p>(</span><span class=s1>&#39;hi&#39;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>当我们使用箭头函数时，函数体内的 this 对象，就是<strong>定义时</strong>所在的对象，而不是<strong>使用时</strong>所在的对象。并不是因为箭头函数内部有绑定 this 的机制，实际原因是箭头函数根本<strong>没有自己的 this</strong>，它的 this 是<strong>继承外面的</strong>，因此内部的 this 就是外层代码块的 this。</p></blockquote><h3 id=5template-string>（5）template string<a hidden class=anchor aria-hidden=true href=#5template-string>#</a></h3><blockquote><p>当我们要插入<strong>大段</strong>的<strong>html 内容</strong>到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些<strong>模板工具库</strong>，比如<strong>mustache</strong>等等。</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;result&#34;</span><span class=p>&gt;</span>test<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>$</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>count</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>onSale</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>$</span><span class=p>(</span><span class=s2>&#34;#result&#34;</span><span class=p>).</span><span class=nx>append</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;There are &lt;b&gt;&#34;</span> <span class=o>+</span> <span class=nx>count</span> <span class=o>+</span> <span class=s2>&#34;&lt;/b&gt;&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34; items in your basket,&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&lt;em&gt;&#34;</span> <span class=o>+</span> <span class=nx>onSale</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&lt;/em&gt; are on sale!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><blockquote><p>testThere are 5 items in your basket,3 are on sale!</p><p>要用一堆的&rsquo;+&lsquo;号来连接<strong>文本</strong>与<strong>变量</strong>，而使用 ES6 的新特性**模板字符串``**后，我们可以直接这么来写</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>$</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>count</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>onSale</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>$</span><span class=p>(</span><span class=s2>&#34;#result&#34;</span><span class=p>).</span><span class=nx>append</span><span class=p>(</span><span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>    There are &lt;b&gt;</span><span class=si>${</span><span class=nx>count</span><span class=si>}</span><span class=sb>&lt;/b&gt;
</span></span></span><span class=line><span class=cl><span class=sb>    items in your basket,
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;em&gt;</span><span class=si>${</span><span class=nx>onSale</span><span class=si>}</span><span class=sb>&lt;/em&gt; are on sale!
</span></span></span><span class=line><span class=cl><span class=sb>  `</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><blockquote><p>test There are 5 items in your basket, 3 are on sale!</p><p>非一般的简洁</p><p>用<strong>反引号</strong>（\）（键盘 ESC 下方）来标识起始，用${}（类似于 JavaEE 的 EL 表达式）来引用变量，而且所有的<strong>空格</strong>和<strong>缩进</strong>都会被<strong>保留</strong>在输出之中</p></blockquote><h3 id=6destructing>（6）destructing<a hidden class=anchor aria-hidden=true href=#6destructing>#</a></h3><blockquote><p>ES6 允许按照一定模式，从<strong>数组</strong>和<strong>对象</strong>中<strong>提取值</strong>，对<strong>变量</strong>进行<strong>赋值</strong>，这被称为<strong>解构</strong>（Destructuring）</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// ES5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>cat</span> <span class=o>=</span> <span class=s2>&#34;tom&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>mouse</span> <span class=o>=</span> <span class=s2>&#34;terry&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>zoo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>cat</span><span class=o>:</span> <span class=nx>cat</span><span class=p>,</span> <span class=nx>mouse</span><span class=o>:</span> <span class=nx>mouse</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>zoo</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>Object {cat: &ldquo;tom&rdquo;, mouse: &ldquo;terry&rdquo;}</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// ES6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>zoo2</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>cat</span><span class=p>,</span> <span class=nx>mouse</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>zoo2</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>Object {cat: &ldquo;tom&rdquo;, mouse: &ldquo;terry&rdquo;}</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>dog</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s2>&#34;animal&#34;</span><span class=p>,</span> <span class=nx>num</span><span class=o>:</span> <span class=mi>6</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=p>{</span> <span class=nx>type</span><span class=p>,</span> <span class=nx>num</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>dog</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>type</span><span class=p>,</span> <span class=nx>num</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>animal 6</p></blockquote><h3 id=7default>（7）default<a hidden class=anchor aria-hidden=true href=#7default>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// ES5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>animal</span><span class=p>(</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>type</span> <span class=o>=</span> <span class=nx>type</span> <span class=o>||</span> <span class=s2>&#34;cat&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>type</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>(</span><span class=s2>&#34;dog&#34;</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>cat
dog</p><p>调用方法时若不加参数则使用默认值</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// ES6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>animal</span><span class=p>(</span><span class=nx>type</span> <span class=o>=</span> <span class=s2>&#34;cat&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>type</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>animal</span><span class=p>(</span><span class=s2>&#34;dog&#34;</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>cat
dog</p></blockquote><h3 id=8rest>（8）rest<a hidden class=anchor aria-hidden=true href=#8rest>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// ES6 rest
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>animals</span><span class=p>(...</span><span class=nx>types</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>types</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>animals</span><span class=p>(</span><span class=s2>&#34;cat&#34;</span><span class=p>,</span> <span class=s2>&#34;dog&#34;</span><span class=p>,</span> <span class=s2>&#34;fish&#34;</span><span class=p>);</span>
</span></span></code></pre></div><blockquote><p>[&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;fish&rdquo;]</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://barnett617.github.io/wilson-blog/tags/javascript/>JavaScript</a></li></ul><nav class=paginav><a class=prev href=https://barnett617.github.io/wilson-blog/posts/2016-12-20-maven-basic/><span class=title>« 上一页</span><br><span>Maven学习</span>
</a><a class=next href=https://barnett617.github.io/wilson-blog/notes/2016-12-15-java-basic-sort-algorithms/><span class=title>下一页 »</span><br><span>Java基础算法（插入、选择、冒泡、快排）</span></a></nav><script defer crossorigin=anonymous src=/wilson-blog/assets/js/qrcode.a817fc490b9066afefa35cf981f6f003a76441b45cc519492334607a8cbcb264.js integrity="sha256-qBf8SQuQZq/vo1z5gfbwA6dkQbRcxRlJIzRgeoy8smQ=" onload='const wechatShareBtnFingerprint=document.getElementById("wechat-share-btn");if(wechatShareBtnFingerprint){wechatShareBtnFingerprint.style.position="relative";const e=document.createElement("div");e.id="qrcode",Object.assign(e.style,{position:"absolute",background:"#fff",padding:"8px",bottom:0,"box-sizing":"content-box","box-shadow":"rgba(0, 0, 0, 0.2) 0px 0px 10px 4px",width:"96px",height:"96px",left:"50%",transform:"translate(-50%, -43%)",visibility:"hidden"}),window.wechatShareQrCode=e,wechatShareBtnFingerprint.appendChild(e),new QRCode(document.getElementById("qrcode"),{text:window.location.href,width:128,height:128,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})}'></script><div class=share-buttons><a id=wechat-share-btn target=_blank rel="noopener noreferrer" aria-label="share ECMAScript6(ECMAScript2015)学习笔记 on wechat" href=javascript:void(0) onclick=return!1 onfocus='const shareBtnsPointer=document.getElementsByClassName("share-buttons")[0];shareBtnsPointer&&(shareBtnsPointer.style.overflowX="initial"),wechatShareQrCode.style.visibility="visible"' onblur='wechatShareQrCode.style.visibility="hidden"'><svg role="img" viewBox="0 0 24 24" height="30" width="30" fill="currentcolor"><path d="M8.691 2.188C3.891 2.188.0 5.476.0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59.0 01.213.665l-.39 1.48c-.019.07-.048.141-.048.213.0.163.13.295.29.295a.326.326.0 00.167-.054l1.903-1.114a.864.864.0 01.717-.098 10.16 10.16.0 002.837.403c.276.0.543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642.0 1.162.529 1.162 1.18A1.17 1.17.0 015.785 8.349 1.17 1.17.0 014.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813.0c.642.0 1.162.529 1.162 1.18a1.17 1.17.0 01-1.162 1.178 1.17 1.17.0 01-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826.0 1.622-.12 2.361-.336a.722.722.0 01.598.082l1.584.926a.272.272.0 00.14.047c.134.0.24-.111.24-.247.0-.06-.023-.12-.038-.177l-.327-1.233a.582.582.0 01-.023-.156.49.49.0 01.201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.03zm-2.53 3.274c.535.0.969.44.969.982a.976.976.0 01-.969.983.976.976.0 01-.969-.983c0-.542.434-.982.97-.982zm4.844.0c.535.0.969.44.969.982a.976.976.0 01-.969.983.976.976.0 01-.969-.983c0-.542.434-.982.969-.982z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ECMAScript6(ECMAScript2015)学习笔记 on x" href="https://x.com/intent/tweet/?text=ECMAScript6%28ECMAScript2015%29%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0&amp;url=https%3a%2f%2fbarnett617.github.io%2fwilson-blog%2fposts%2f2016-12-15-es6-learning%2f&amp;hashtags=JavaScript"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://barnett617.github.io/wilson-blog/>Wilson's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>